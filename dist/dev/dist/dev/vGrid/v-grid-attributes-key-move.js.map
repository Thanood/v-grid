{"version":3,"sources":["vGrid/v-grid-attributes-key-move.js"],"names":[],"mappings":"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","file":"vGrid/v-grid-attributes-key-move.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    Attributes for tabbing, keyup/down and page up/down\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nimport {inject, customAttribute} from 'aurelia-framework';\r\nimport {VGrid} from './v-grid';\r\n\r\n\r\n@customAttribute('v-key-move')\r\n@inject(Element, VGrid)\r\nexport class vGridAttributesKeyMove {\r\n\r\n\r\n  constructor(element, vGrid) {\r\n    this.vGrid = vGrid;\r\n    this.element = element;\r\n    this.classname = \"v-grid-key-move\";\r\n  }\r\n\r\n\r\n  bind(bindingContext, overrideContext) {\r\n    this.bindingContext = bindingContext;\r\n    this.overrideContext = overrideContext;\r\n\r\n  }\r\n\r\n\r\n  attached() {\r\n    this.element.classList.add(this.classname);\r\n    this.addGridKeyListner();\r\n\r\n    this.element.addEventListener('tabbing', (e)=> {\r\n      this.element.focus();\r\n\r\n      let ev = document.createEvent('Event');\r\n      ev.initEvent(\"click\", true, true);\r\n      this.element.offsetParent.dispatchEvent(ev);\r\n\r\n    });\r\n\r\n\r\n    this.element.addEventListener('focus', (e)=> {\r\n\r\n      if (this.vGrid.vGridCurrentEntityRef === null) {\r\n        let ev = document.createEvent('Event');\r\n        ev.initEvent(\"click\", true, true);\r\n        this.element.offsetParent.dispatchEvent(ev);\r\n      }\r\n\r\n\r\n\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n  /***************************************************************************************\r\n   * for setting next cell ny similating a mouse click, used for tabbing etc\r\n   ***************************************************************************************/\r\n  dispatchCellClick(index) {\r\n    var e = document.createEvent('Event');\r\n    e.initEvent(\"tabbing\", true, true);\r\n\r\n    if (this.cells[index]) {\r\n      this.cells[index].dispatchEvent(e);\r\n    }\r\n  }\r\n\r\n\r\n  /***************************************************************************************\r\n   * sets \"the cells\" from  to direction asked for, so tabbing jumps to next row\r\n   ***************************************************************************************/\r\n  setCellsFromElement(node, direction) {\r\n    var thisTop;\r\n    var element;\r\n    for (var i = 0; i < 10; i++) {\r\n      try {\r\n        if (node.classList.contains(this.vGrid.vGridConfig.css.row)) {\r\n          var row = parseInt(node.getAttribute(\"row\"));\r\n          for (var y = 0; y < this.vGrid.vGridGenerator.rowElementArray.length; y++) {\r\n            if (row === parseInt((this.vGrid.vGridGenerator.rowElementArray[y].top / this.vGrid.vGridConfig.attRowHeight))) {\r\n              this.row = row;\r\n              thisTop = this.vGrid.vGridGenerator.rowElementArray[y + direction].top;\r\n              element = this.vGrid.vGridGenerator.rowElementArray[y + direction].div;\r\n            }\r\n          }\r\n        }\r\n        node = node.parentNode;\r\n      } catch (err) {\r\n        //nothing for now\r\n      }\r\n    }\r\n    if (element) {\r\n      this.cells = element.querySelectorAll(\".\" + this.classname);\r\n    }\r\n    return thisTop;\r\n  };\r\n\r\n\r\n  /***************************************************************************************\r\n   * sets \"the cells\" from a top value, used for page up/down\r\n   ***************************************************************************************/\r\n  setCellsFromTopValue(top) {\r\n    var element = 0;\r\n    for (var i = 0; i < this.vGrid.vGridGenerator.rowElementArray.length; i++) {\r\n      if (this.vGrid.vGridGenerator.rowElementArray[i].top === top) {\r\n        element = this.vGrid.vGridGenerator.rowElementArray[i].div;\r\n      }\r\n    }\r\n    if (element) {\r\n      this.cells = element.querySelectorAll(\".\" + this.classname);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  /***************************************************************************************\r\n   * simple delay for the keydown events, like tabbing etc, so I cantrol the speed of it\r\n   ***************************************************************************************/\r\n  keyDownDelay(callback) {\r\n    if (!this.timer) {\r\n      this.timer = setTimeout(()=> {\r\n        this.timer = null;\r\n        callback();\r\n      }, 150)\r\n    }\r\n  }\r\n\r\n\r\n  /***************************************************************************************\r\n   * get the index\r\n   ***************************************************************************************/\r\n  getIndex() {\r\n    for (var i = 0; i < this.cells.length; i++) {\r\n      if (this.element === this.cells[i]) {\r\n        this.index = i;\r\n        if (i === 0) {\r\n          this.first = true;\r\n        } else {\r\n          this.first = false;\r\n        }\r\n        if (i === this.cells.length - 1) {\r\n          this.last = true;\r\n        } else {\r\n          this.last = false;\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /***************************************************************************************\r\n   * adds main keys, like arrow keys, tab, and page up/down\r\n   ***************************************************************************************/\r\n  addGridKeyListner() {\r\n\r\n\r\n    this.element.onkeydown = (e) => {\r\n\r\n\r\n      this.setCellsFromElement(this.element, 0);\r\n      this.getIndex();\r\n\r\n\r\n      //page up\r\n      if (e.keyCode === 33) {\r\n        e.preventDefault();\r\n        this.keyDownDelay(() => {\r\n\r\n\r\n          //get scrolltop\r\n          var currentscrolltop = this.vGrid.vGridClientCtx.getScrollTop();\r\n\r\n          //get content height/rows\r\n          var rowHeight = this.vGrid.vGridConfig.attRowHeight;\r\n          var containerHeight = this.vGrid.vGridGenerator.contentElement.clientHeight;\r\n          var containerRows = parseInt(containerHeight / rowHeight, 10);\r\n          this.top = this.setCellsFromElement(this.element, 0);\r\n\r\n          var newTop = this.top - (containerRows * rowHeight);\r\n          if ((newTop / rowHeight) <= 0) {\r\n            newTop = 0;\r\n          }\r\n\r\n\r\n          //if last scroll was up then we need to reverse the buffer\r\n          if (this.vGrid.vGridScrollEvents.lastScrollType === \"down\") {\r\n            this.vGrid.vGridScrollEvents.onSmallScroll(false);\r\n          }\r\n\r\n          this.setCellsFromTopValue(newTop);\r\n          this.dispatchCellClick(this.index);\r\n\r\n          var setTop = newTop - parseInt((containerRows * rowHeight) / 2);\r\n          this.vGrid.vGridClientCtx.setScrollTop(setTop);\r\n\r\n\r\n        });\r\n      }\r\n\r\n\r\n      //page down\r\n      if (e.keyCode === 34) {\r\n        e.preventDefault();\r\n        this.keyDownDelay(() => {\r\n\r\n\r\n          //get scrolltop\r\n          var currentscrolltop = this.vGrid.vGridClientCtx.getScrollTop();\r\n\r\n          //get content height/rows\r\n          var rowHeight = this.vGrid.vGridConfig.attRowHeight;\r\n          var containerHeight = this.vGrid.vGridGenerator.contentElement.clientHeight;\r\n          var containerRows = parseInt(containerHeight / rowHeight, 10);\r\n          this.top = this.setCellsFromElement(this.element, 0);\r\n\r\n          var newTop = this.top + (containerRows * rowHeight);\r\n          if ((newTop / rowHeight) >= this.vGrid.vGridConfig.getCollectionLength()) {\r\n            newTop = this.vGrid.vGridConfig.getCollectionLength() * rowHeight;\r\n            newTop = newTop - rowHeight\r\n          }\r\n\r\n          //if last scroll was up then we need to reverse the buffer\r\n          if (this.vGrid.vGridScrollEvents.lastScrollType === \"up\") {\r\n            this.vGrid.vGridScrollEvents.onSmallScroll(true);\r\n          }\r\n\r\n          this.setCellsFromTopValue(newTop);\r\n          this.dispatchCellClick(this.index);\r\n\r\n          var setTop = newTop - parseInt((containerRows * rowHeight) / 2);\r\n          this.vGrid.vGridClientCtx.setScrollTop(setTop);\r\n        });\r\n      }\r\n\r\n      //arrow down\r\n      if (e.keyCode === 40) {\r\n        e.preventDefault();\r\n        this.keyDownDelay(() => {\r\n          if (this.vGrid.vGridScrollEvents.lastScrollType === \"up\") {\r\n            this.vGrid.vGridScrollEvents.onSmallScroll(true);\r\n          }\r\n          this.top = this.setCellsFromElement(this.element, +1);\r\n          this.dispatchCellClick(this.index)\r\n        });\r\n      }\r\n\r\n\r\n      //arrow up\r\n      if (e.keyCode === 38) {\r\n        e.preventDefault();\r\n        this.keyDownDelay(() => {\r\n          if (this.vGrid.vGridScrollEvents.lastScrollType === \"down\") {\r\n            this.vGrid.vGridScrollEvents.onSmallScroll(false);\r\n          }\r\n          this.top = this.setCellsFromElement(this.element, -1);\r\n          this.dispatchCellClick(this.index)\r\n        });\r\n      }\r\n\r\n\r\n      //tab and shift key for tabing in other direction\r\n      if (e.keyCode === 9 && e.shiftKey === true) {\r\n        if (this.row !== 0 && this.first) {\r\n          e.preventDefault();\r\n          this.keyDownDelay(() => {\r\n            this.index = this.index - 1;\r\n            if (this.first) {\r\n              if (this.vGrid.vGridScrollEvents.lastScrollType === \"down\") {\r\n                this.vGrid.vGridScrollEvents.onSmallScroll(false);\r\n              }\r\n              this.index = this.cells.length - 1;\r\n              this.top = this.setCellsFromElement(this.element, -1)\r\n            }\r\n            this.dispatchCellClick(this.index)\r\n\r\n          });\r\n        }\r\n      }\r\n\r\n\r\n      //normal tabbing\r\n      if (e.keyCode === 9 && e.shiftKey === false) {\r\n\r\n\r\n        e.preventDefault();\r\n        this.keyDownDelay(() => {\r\n          this.index = this.index + 1;\r\n          if (this.last) {\r\n            if (this.vGrid.vGridScrollEvents.lastScrollType === \"up\") {\r\n              this.vGrid.vGridScrollEvents.onSmallScroll(true);\r\n            }\r\n            this.index = 0;\r\n            this.top = this.setCellsFromElement(this.element, 1)\r\n          }\r\n          this.dispatchCellClick(this.index)\r\n        });\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n}\r\n"]}