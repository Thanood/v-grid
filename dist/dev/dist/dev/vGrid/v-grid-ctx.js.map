{"version":3,"sources":["vGrid/v-grid-ctx.js"],"names":[],"mappings":"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","file":"vGrid/v-grid-ctx.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    VGridClientCtx\r\n *    This will contexin all functions that I expose to client side in gridcontext xxxx.ctx\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\n\r\nexport class VGridCtx {\r\n\r\n  constructor(vGrid) {\r\n    this.vGrid = vGrid;\r\n  }\r\n\r\n  /***************************************************************************************\r\n   * getters/setters to make it easier\r\n   ***************************************************************************************/\r\n\r\n  get vGridSelection() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridSelection;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridConfig() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridConfig;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridCellHelper() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridCellHelper;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridElement() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.element;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridSortable() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridSortable;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridResizable() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridResizable;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridResizable() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridResizable;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridFilter() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridFilter;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridSort() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridSort;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridObservables() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridObservables;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridGenerator() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridGenerator;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridCurrentEntityRef() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridCurrentEntityRef;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridRowKey() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridRowKey;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridCollectionFiltered() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridCollectionFiltered;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get vGridCollection() {\r\n    if (this.vGrid) {\r\n      return this.vGrid.vGridCollection;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  setData(data) {\r\n    this.vGridConfig.remoteLimit = data.limit || 40;\r\n    this.vGridConfig.remoteLength = data.length || 0;\r\n    this.vGridConfig.remoteOffset = data.offset || 0;\r\n    this.keepFilterOnCollectionChange();\r\n    this.vGrid.vGridCollection = data.col || [];\r\n    this.setLoadingOverlay(false);\r\n    this.vGrid.vGridPager.updatePager({\r\n      limit : this.vGridConfig.remoteLimit,\r\n      offset : this.vGridConfig.remoteOffset,\r\n      length : this.vGridConfig.remoteLength\r\n    });\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  keepFilterOnCollectionChange() {\r\n    this.vGridConfig.keepFilterOnCollectionChange = true;\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  rebuildColumns() {\r\n    this.vGridGenerator.rebuildColumns();\r\n  }\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  scrollBottom() {\r\n    var collectionLength = this.vGridConfig.getCollectionLength();\r\n    this.contentElement.scrollTop = collectionLength * this.vGridConfig.attRowHeight;\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  scrollTop() {\r\n    this.vGridGenerator.contentElement.scrollTop = 0;\r\n  };\r\n\r\n\r\n\r\n  setScrollTop(newTop) {\r\n    this.vGridGenerator.contentElement.scrollTop = newTop;\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  rebuildColumnsRows() {\r\n    this.vGridGenerator.rebuildColumnsRows();\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  columnChangeAndCollection(resetScrollToTop) {\r\n    this.vGridGenerator.columnChangeAndCollection(resetScrollToTop);\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  redrawGrid() {\r\n    this.vGridGenerator.redrawGrid();\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  setColumns(paramObj) {\r\n    this.vGridConfig.colConfig = paramObj.colConfig;\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  getColumns() {\r\n    var arr = [];\r\n    this.vGridConfig.colConfig.forEach((obj)=> {\r\n      let x = {};\r\n      for (var k in obj) {\r\n        if (obj.hasOwnProperty(k)) {\r\n          if (x[k] !== obj[k]) {\r\n            x[k] = obj[k];\r\n          }\r\n        }\r\n      }\r\n      arr.push(x);\r\n    });\r\n    return {\r\n      \"colConfig\": arr\r\n    }\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  getMaxRows() {\r\n    //https://github.com/mleibman/SlickGrid/blob/bf4705a96c40fea088216034def4d0256a335e65/slick.grid.js\r\n    var supportedHeight = 10000;\r\n    var testUpTo = navigator.userAgent.toLowerCase().match(/firefox/) ? 8947840 : 1000000000;\r\n    var div = document.createElement(\"div\");\r\n    //div.style.display = \"none\";\r\n    document.body.appendChild(div);\r\n\r\n    while (true) {\r\n      var test = supportedHeight + 10000;\r\n      div.style.height = test + \"px\";\r\n      if (test > testUpTo || div.clientHeight !== test) {\r\n        break;\r\n      } else {\r\n        supportedHeight = test;\r\n      }\r\n    }\r\n    document.body.removeChild(div);\r\n    var total = Math.ceil(supportedHeight / this.vGridConfig.attRowHeight); //lol\r\n    return  total + \", error margin:\" + Math.ceil(10000 / this.vGridConfig.attRowHeight);\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  scrollBottomNext() {\r\n    this.vGridGenerator.scrollBottomOnNext = true;\r\n  };\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  setLoadingOverlay(value) {\r\n    this.vGrid.loading = value === true ? true : false;\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * explain\r\n   ****************************************************************************************************************************/\r\n  getScrollTop() {\r\n    return this.vGridGenerator.contentElement.scrollTop;\r\n  };\r\n\r\n\r\n}\r\n"]}