{"version":3,"sources":["vGrid/v-grid-element-footer-pager.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAMQ,Y,qBAAA,M;AAAQ,mB,qBAAA,a;AAAe,c,qBAAA,Q;;;yCAOlB,uB,WAFZ,cAAc,cAAd,C,UACA,OAAO,OAAP,C;AAMC,yCAAY,OAAZ,EAAqB;AAAA;;AAAA,eAHrB,IAGqB,GAHd,EAGc;;AACnB,eAAK,OAAL,GAAe,OAAf;AACD;;0CAGD,I,iBAAK,M,EAAQ;AACX,eAAK,MAAL,GAAc,MAAd;AACA,eAAK,KAAL,GAAa,OAAO,KAApB;AACA,eAAK,WAAL,GAAmB,OAAO,KAAP,CAAa,WAAhC;AACA,eAAK,KAAL,CAAW,UAAX,GAAwB,IAAxB;AAED,S;;0CAGD,Q,uBAAW;AACT,eAAK,gBAAL,GAAwB,KAAxB;AACA,eAAK,gBAAL,GAAwB,KAAxB;AACA,eAAK,iBAAL,GAAyB,KAAzB;AACA,eAAK,gBAAL,GAAwB,KAAxB;AAED,S;;0CAGD,W,wBAAY,I,EAAK;AACd,eAAK,gBAAL,GAAwB,KAAK,MAA7B;AACA,eAAK,KAAL,GAAa,KAAK,KAAlB;AACA,eAAK,MAAL,GAAc,KAAK,MAAnB;AACD,eAAK,IAAL,GAAY,KAAK,MAAL,GAAc,KAAK,IAAL,CAAU,KAAK,MAAL,GAAY,KAAK,KAA3B,IAAkC,CAAhD,GAAkD,CAA9D;AACA,cAAG,KAAK,IAAL,KAAc,CAAjB,EAAmB;AACjB,iBAAK,iBAAL,GAAyB,KAAzB;AACA,iBAAK,gBAAL,GAAwB,KAAxB;AACD,WAHD,MAGO;AACL,iBAAK,iBAAL,GAAyB,IAAzB;AACA,iBAAK,gBAAL,GAAwB,IAAxB;AACD;;AAED,cAAG,KAAK,MAAL,IAAe,KAAK,gBAAL,GAAsB,KAAK,KAA7C,EAAmD;AACjD,iBAAK,gBAAL,GAAwB,KAAxB;AACA,iBAAK,gBAAL,GAAwB,KAAxB;AACD,WAHD,MAGO;AACL,iBAAK,gBAAL,GAAwB,IAAxB;AACA,iBAAK,gBAAL,GAAwB,IAAxB;AACD;;AAED,eAAK,IAAL,aAAoB,KAAK,IAAzB,YAAoC,KAAK,IAAL,CAAU,KAAK,gBAAL,GAAsB,KAAK,KAArC,CAApC,yBAAmG,KAAK,gBAAxG,oBAAuI,KAAK,KAA5I;AAED,S;;0CAGD,Q,uBAAU;AACR,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,CAAhC;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S;;0CAID,O,sBAAS;AACP,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,WAAjF;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S;;0CAID,O,sBAAS;AACP,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,WAAjF;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S;;0CAID,O,sBAAS;AACP,eAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,eAAK,WAAL,CAAiB,YAAjB,GAAgC,KAAK,WAAL,CAAiB,YAAjB,GAA8B,KAAK,WAAL,CAAiB,WAA/E;AACA,eAAK,WAAL,CAAiB,UAAjB;AACD,S","file":"vGrid/v-grid-element-footer-pager.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    VGridFooterPager\r\n *    Custom element for use in the footer container\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nimport {inject, customElement, bindable} from 'aurelia-framework';\r\n\r\n\r\n\r\n\r\n@customElement('v-grid-pager')\r\n@inject(Element)\r\nexport class VGridElementFooterPager {\r\n\r\n  info = \"\";\r\n\r\n\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n\r\n  \r\n  bind(parent) {\r\n    this.parent = parent;\r\n    this.vGrid = parent.vGrid;\r\n    this.vGridConfig = parent.vGrid.vGridConfig;\r\n    this.vGrid.vGridPager = this;\r\n\r\n  }\r\n\r\n\r\n  attached() {\r\n    this.statusNextButton = false;\r\n    this.statusLastButton = false;\r\n    this.statusFirstButton = false;\r\n    this.statusPrevButton = false;\r\n\r\n  }\r\n\r\n\r\n  updatePager(data){\r\n     this.collectionLength = data.length;\r\n     this.limit = data.limit;\r\n     this.offset = data.offset;\r\n    this.page = this.offset ? Math.ceil(this.offset/this.limit)+1:1;\r\n    if(this.page === 1){\r\n      this.statusFirstButton = false;\r\n      this.statusPrevButton = false;\r\n    } else {\r\n      this.statusFirstButton = true;\r\n      this.statusPrevButton = true;\r\n    }\r\n\r\n    if(this.offset >= this.collectionLength-this.limit){\r\n      this.statusNextButton = false;\r\n      this.statusLastButton = false;\r\n    } else {\r\n      this.statusNextButton = true;\r\n      this.statusLastButton = true;\r\n    }\r\n\r\n    this.info = `Page ${this.page} of ${Math.ceil(this.collectionLength/this.limit)}, Total entities:${this.collectionLength}, page size ${this.limit}`\r\n\r\n  }\r\n\r\n\r\n  firstBtn(){\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = 0;\r\n    this.vGridConfig.remoteCall()\r\n  }\r\n\r\n\r\n\r\n  nextBtn(){\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset + this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall()\r\n  }\r\n\r\n\r\n\r\n  prevBtn(){\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset - this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall()\r\n  }\r\n\r\n\r\n\r\n  lastBtn(){\r\n    this.vGrid.loading = true;\r\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteLength-this.vGridConfig.remoteLimit;\r\n    this.vGridConfig.remoteCall()\r\n  }\r\n\r\n\r\n}\r\n"]}