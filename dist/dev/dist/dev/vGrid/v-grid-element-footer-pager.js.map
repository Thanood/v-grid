{"version":3,"sources":["vGrid/v-grid-element-footer-pager.js"],"names":[],"mappings":"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","file":"vGrid/v-grid-element-footer-pager.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\n *    VGridFooterPager\n *    Custom element for use in the footer container\n *    Created by vegar ringdal\n *\n ****************************************************************************************************************/\nimport {inject, customElement, bindable} from 'aurelia-framework';\n\n\n@customElement('v-grid-pager')\n@inject(Element)\nexport class VGridElementFooterPager {\n\n  info = \"\";\n\n\n  constructor(element) {\n    this.element = element;\n  }\n\n\n  bind(parent) {\n    this.parent = parent;\n    this.vGrid = parent.vGrid;\n    this.vGridConfig = parent.vGrid.vGridConfig;\n    this.vGrid.vGridPager = this;\n  }\n\n\n  attached() {\n    this.statusNextButton = false;\n    this.statusLastButton = false;\n    this.statusFirstButton = false;\n    this.statusPrevButton = false;\n\n    this.statusNextButtonTitle = this.getLang(\"pagerBtnNext\") || \"Next\";\n    this.statusLastButtonTitle = this.getLang(\"pagerBtnLast\") || \"Last\";\n    this.statusFirstButtonTitle = this.getLang(\"pagerBtnFirst\") || \"First\";\n    this.statusPrevButtonTitle = this.getLang(\"pagerBtnLast\") || \"Last\";\n\n    this.pagerStringPage = this.getLang(\"pagerStringPage\") || \"Page \";\n    this.pagerStringOf = this.getLang(\"pagerStringOf\") || \" of \";\n    this.pagerStringTotalEntities = this.getLang(\"pagerStringTotalEntities\") || \", Total entities:\";\n    this.pagerStringPageSize = this.getLang(\"pagerStringPageSize\") || \", page size \";\n\n  }\n\n  \n  getLang(value){\n    return this.vGrid.vGridConfig.attLanguage[value];\n  }\n\n\n  updatePager(data) {\n    this.collectionLength = data.length;\n    this.limit = data.limit;\n    this.offset = data.offset;\n\n    this.page = this.offset ? Math.ceil(this.offset / this.limit) + 1 : 1;\n\n\n    if (this.page === 1) {\n      this.statusFirstButton = false;\n      this.statusPrevButton = false;\n    } else {\n      this.statusFirstButton = true;\n      this.statusPrevButton = true;\n    }\n\n\n    if (this.offset >= this.collectionLength - this.limit) {\n      this.statusNextButton = false;\n      this.statusLastButton = false;\n    } else {\n      this.statusNextButton = true;\n      this.statusLastButton = true;\n    }\n\n\n    //do we show page info?\n    if (!this.vGridConfig.attHidePagerInfo) {\n      this.info = `${this.pagerStringPage}${this.page}${this.pagerStringOf}${Math.ceil(this.collectionLength / this.limit)}${this.pagerStringTotalEntities}${this.collectionLength}${this.pagerStringPageSize}${this.limit}`;\n    }\n\n\n    //raise event\n    this.vGrid.raiseEvent(\"v-remote-collection-event\", {\n      evt: \"v-remote-collection-event\",\n      page: this.page,\n      pages: Math.ceil(this.collectionLength / this.limit),\n      length: this.collectionLength,\n      pageSize: this.limit\n    });\n\n  }\n\n\n  firstBtn() {\n    this.vGrid.loading = true;\n    this.vGridConfig.remoteOffset = 0;\n    this.vGridConfig.remoteCall();\n  }\n\n\n  nextBtn() {\n    this.vGrid.loading = true;\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset + this.vGridConfig.remoteLimit;\n    this.vGridConfig.remoteCall();\n  }\n\n\n  prevBtn() {\n    this.vGrid.loading = true;\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteOffset - this.vGridConfig.remoteLimit;\n    this.vGridConfig.remoteCall();\n  }\n\n\n  lastBtn() {\n    this.vGrid.loading = true;\n    this.vGridConfig.remoteOffset = this.vGridConfig.remoteLength - this.vGridConfig.remoteLimit;\n    this.vGridConfig.remoteCall();\n  }\n\n\n}\n"]}