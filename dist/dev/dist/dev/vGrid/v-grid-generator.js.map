{"version":3,"sources":["vGrid/v-grid-generator.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAMQ,c,qBAAA,Q;;;;;;;;;;;;;;;;;;;;;gCAEK,c;AAEX,gCAAY,KAAZ,EAAmB;AAAA;;AAAA,eA+DnB,aA/DmB,GA+DH,CA/DG;AAAA,eAgEnB,UAhEmB,GAgEN,CAhEM;AAAA,eAiEnB,SAjEmB,GAiEP,CAjEO;AAAA,eAkEnB,gBAlEmB,GAkEA,CAlEA;AAAA,eAmEnB,kBAnEmB,GAmEE,KAnEF;AAAA,eAsEnB,WAtEmB,GAsEL,IAtEK;AAAA,eAuEnB,aAvEmB,GAuEH,IAvEG;AAAA,eAwEnB,mBAxEmB,GAwEG,IAxEH;AAAA,eAyEnB,cAzEmB,GAyEF,IAzEE;AAAA,eA0EnB,aA1EmB,GA0EH,IA1EG;AAAA,eA2EnB,eA3EmB,GA2ED,EA3EC;AAAA,eA4EnB,wBA5EmB,GA4EQ,IA5ER;AAAA,eA+EnB,cA/EmB,GA+EF,IA/EE;AAAA,eAgFnB,qBAhFmB,GAgFK,IAhFL;AAAA,eAiFnB,cAjFmB,GAiFF,IAjFE;AAAA,eAkFnB,cAlFmB,GAkFF,IAlFE;;AACjB,eAAK,KAAL,GAAa,KAAb;AACD;;iCAsFD,I,iBAAK,S,EAAW;AACd,eAAK,OAAL;AACA,eAAK,SAAL;AACA,cAAI,CAAC,SAAL,EAAgB;AACd,iBAAK,cAAL,CAAoB,OAApB,CAA4B,KAAK,WAAL,CAAiB,cAA7C;AACD;AACD,eAAK,oBAAL;AACA,eAAK,iBAAL;AACA,eAAK,mBAAL;;AAEA,eAAK,KAAL,CAAW,mBAAX;AAED,S;;iCAMD,O,sBAAU;AAER,eAAK,iBAAL;AACA,eAAK,uBAAL;AACA,eAAK,wBAAL;AACA,eAAK,uBAAL;AACA,eAAK,2BAAL;AACA,eAAK,qBAAL;;AAGA,eAAK,2BAAL;AACA,eAAK,oBAAL;AACA,eAAK,kBAAL;AACA,cAAI,KAAK,WAAL,CAAiB,iBAArB,EAAwC;AACtC,iBAAK,oBAAL;AACD;AACF,S;;iCAMD,S,wBAAY;AAAA;;AAEV,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,iBAAL,EAApB,EAA8C,GAA9C,EAAmD;AACjD,gBAAI,aAAa,KAAK,eAAL,CAAqB,CAArB,EAAwB,GAAzC;;AAEA,uBAAW,gBAAX,CAA4B,UAA5B,EAAwC,UAAC,CAAD,EAAO;AAC7C,kBAAI,aAAa,SAAS,EAAE,aAAF,CAAgB,YAAhB,CAA6B,KAA7B,CAAT,CAAjB;AACA,oBAAK,WAAL,CAAiB,YAAjB,CAA8B,CAA9B,EAAiC,UAAjC;AACD,aAHD,EAGG,KAHH;;AAKA,uBAAW,gBAAX,CAA4B,OAA5B,EAAqC,UAAC,CAAD,EAAO;AAC1C,kBAAI,aAAa,SAAS,EAAE,aAAF,CAAgB,YAAhB,CAA6B,KAA7B,CAAT,CAAjB;AACA,oBAAK,WAAL,CAAiB,YAAjB,CAA8B,CAA9B,EAAiC,UAAjC;AACA,kBAAI,MAAK,WAAL,CAAiB,cAAjB,KAAoC,SAAxC,EAAmD;AACjD,sBAAK,cAAL,CAAoB,SAApB,CAA8B,CAA9B,EAAiC,UAAjC;AACD;AACF,aAND,EAMG,KANH;AAQD;;AAGD,eAAK,cAAL,CAAoB,gBAApB,CAAqC,QAArC,EAA+C,UAAC,CAAD,EAAM;AACnD,gBAAI,MAAK,WAAL,CAAiB,wBAArB,EAA+C;AAC7C,oCAAsB,YAAM;AAC1B,sBAAK,iBAAL,CAAuB,kBAAvB;AACD,eAFD;AAGD,aAJD,MAIO;AACL,oBAAK,iBAAL,CAAuB,kBAAvB;AACD;AACF,WARD;;AAWA,eAAK,aAAL,CAAmB,gBAAnB,CAAoC,QAApC,EAA8C,UAAC,CAAD,EAAM;AAClD,kBAAK,cAAL,CAAoB,UAApB,GAAiC,MAAK,aAAL,CAAmB,UAApD;AACA,kBAAK,iBAAL,CAAuB,cAAvB,GAAwC,MAAK,aAAL,CAAmB,UAA3D;AAED,WAJD;AAMD,S;;iCAMD,iB,gCAAoB;;AAElB,cAAI,IAAI,SAAS,aAAT,CAAuB,KAAvB,CAAR;AACA,eAAK,YAAL,CAAkB,WAAlB,CAA8B,CAA9B;AACA,eAAK,YAAL,CAAkB,KAAlB,CAAwB,OAAxB,GAAkC,OAAlC;AACA,eAAK,WAAL,GAAmB,CAAnB;;AAIA,eAAK,WAAL,CAAiB,SAAjB,CAA2B,GAA3B,CAA+B,KAAK,WAAL,CAAiB,GAAjB,CAAqB,OAApD;AACA,eAAK,WAAL,CAAiB,KAAjB,CAAuB,QAAvB,GAAkC,UAAlC;AACA,eAAK,WAAL,CAAiB,KAAjB,CAAuB,MAAvB,GAAgC,MAAhC;AACA,eAAK,WAAL,CAAiB,KAAjB,CAAuB,KAAvB,GAA+B,MAA/B;;AAGA,eAAK,UAAL,GAAkB,KAAK,WAAL,CAAiB,YAAnC;AACA,eAAK,UAAL,GAAkB,KAAK,WAAL,CAAiB,WAAnC;AAED,S;;iCAMD,uB,sCAA0B;AAExB,cAAI,SAAS,SAAS,aAAT,CAAuB,KAAvB,CAAb;AACA,iBAAO,SAAP,CAAiB,GAAjB,CAAqB,KAAK,WAAL,CAAiB,GAAjB,CAAqB,UAA1C;AACA,iBAAO,KAAP,CAAa,MAAb,GAAsB,KAAK,WAAL,CAAiB,eAAjB,GAAmC,IAAzD;AACA,cAAI,CAAC,KAAK,aAAV,EAAyB;AACvB,iBAAK,WAAL,CAAiB,WAAjB,CAA6B,MAA7B;AACA,iBAAK,aAAL,GAAqB,MAArB;AACD,WAHD,MAGO;AACL,iBAAK,aAAL,CAAmB,SAAnB,GAA+B,OAAO,SAAtC;AACD;AACD,eAAK,mBAAL,GAA2B,SAAS,aAAT,CAAuB,KAAvB,CAA3B;AACA,eAAK,mBAAL,CAAyB,SAAzB,CAAmC,GAAnC,CAAuC,KAAK,WAAL,CAAiB,GAAjB,CAAqB,GAA5D;AACA,eAAK,mBAAL,CAAyB,SAAzB,CAAmC,GAAnC,CAAuC,KAAK,WAAL,CAAiB,GAAjB,CAAqB,SAA5D;AACA,eAAK,mBAAL,CAAyB,KAAzB,CAA+B,MAA/B,GAAwC,KAAK,WAAL,CAAiB,eAAjB,GAAmC,IAA3E;AACA,eAAK,mBAAL,CAAyB,KAAzB,CAA+B,KAA/B,GAAuC,KAAK,KAAL,CAAW,WAAX,CAAuB,QAAvB,GAAkC,MAAlC,GAA2C,KAAK,mBAAL,KAA6B,IAA/G;AACA,eAAK,aAAL,CAAmB,WAAnB,CAA+B,KAAK,mBAApC;AACD,S;;iCAMD,wB,uCAA2B;AAGzB,cAAI,oBAAoB,KAAK,UAA7B;AACA,cAAI,wBAAwB,KAAK,WAAL,CAAiB,eAAjB,GAAmC,KAAK,WAAL,CAAiB,eAAhF;AACA,eAAK,aAAL,GAAqB,oBAAoB,qBAAzC;;AAGA,eAAK,cAAL,GAAsB,SAAS,aAAT,CAAuB,KAAvB,CAAtB;AACA,eAAK,cAAL,CAAoB,SAApB,CAA8B,GAA9B,CAAkC,KAAK,WAAL,CAAiB,GAAjB,CAAqB,WAAvD;AACA,eAAK,cAAL,CAAoB,KAApB,CAA0B,MAA1B,GAAmC,KAAK,aAAL,GAAqB,IAAxD;AACA,eAAK,WAAL,CAAiB,WAAjB,CAA6B,KAAK,cAAlC;AAED,S;;iCAMD,uB,sCAA0B;AAExB,eAAK,aAAL,GAAqB,SAAS,aAAT,CAAuB,KAAvB,CAArB;AACA,eAAK,aAAL,CAAmB,SAAnB,CAA6B,GAA7B,CAAiC,KAAK,WAAL,CAAiB,GAAjB,CAAqB,UAAtD;AACA,eAAK,aAAL,CAAmB,KAAnB,CAAyB,MAAzB,GAAkC,KAAK,WAAL,CAAiB,eAAjB,GAAmC,IAArE;AACA,eAAK,WAAL,CAAiB,WAAjB,CAA6B,KAAK,aAAlC;AACD,S;;iCAMD,2B,0CAA8B;AAC5B,eAAK,wBAAL;;AAEA,eAAK,wBAAL,GAAgC,SAAS,aAAT,CAAuB,KAAvB,CAAhC;AACA,eAAK,wBAAL,CAA8B,SAA9B,CAAwC,GAAxC,CAA4C,KAAK,WAAL,CAAiB,GAAjB,CAAqB,UAAjE;AACA,eAAK,wBAAL,CAA8B,KAA9B,CAAoC,MAApC,GAA6C,KAAK,gBAAL,GAAwB,IAArE;AACA,eAAK,wBAAL,CAA8B,KAA9B,CAAoC,KAApC,GAA4C,KAAK,KAAL,CAAW,WAAX,CAAuB,QAAvB,GAAkC,MAAlC,GAA2C,KAAK,mBAAL,KAA6B,IAApH;AACA,eAAK,cAAL,CAAoB,WAApB,CAAgC,KAAK,wBAArC;AACD,S;;iCAMD,qB,oCAAwB;AAEtB,cAAI,oBAAoB,SAAS,KAAK,aAAL,GAAqB,KAAK,WAAL,CAAiB,YAA/C,EAA6D,EAA7D,CAAxB;;AAGA,cAAI,oBAAoB,CAApB,KAA0B,CAA9B,EAAiC;AAC/B,gCAAoB,oBAAoB,CAAxC;AACD,WAFD,MAEO;AACL,gCAAoB,oBAAoB,CAAxC;AACD;;AAED,cAAI,MAAM,CAAV;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,iBAApB,EAAuC,GAAvC,EAA4C;;AAE1C,gBAAI,MAAM,SAAS,aAAT,CAAuB,KAAvB,CAAV;;AAEA,gBAAI,SAAJ,CAAc,GAAd,CAAkB,KAAK,WAAL,CAAiB,GAAjB,CAAqB,GAAvC;;AAEA,gBAAI,IAAI,CAAJ,KAAU,CAAd,EAAiB;AACf,kBAAI,SAAJ,CAAc,GAAd,CAAkB,KAAK,WAAL,CAAiB,GAAjB,CAAqB,MAAvC;AACD,aAFD,MAEO;AACL,kBAAI,SAAJ,CAAc,GAAd,CAAkB,KAAK,WAAL,CAAiB,GAAjB,CAAqB,OAAvC;AACD;;AAED,gBAAI,KAAJ,CAAU,MAAV,GAAmB,KAAK,WAAL,CAAiB,YAAjB,GAAgC,IAAnD;;AAEA,iBAAK,cAAL,CAAoB,CAAC;AACnB,mBAAK,GADc;AAEnB,mBAAK;AAFc,aAAD,CAApB,EAGI,CAHJ,EAGO,GAHP;;AAKA,gBAAI,KAAJ,CAAU,WAAV,IAAyB,KAAK,mBAAL,KAA6B,IAAtD;AACA,gBAAI,KAAJ,CAAU,KAAV,GAAkB,MAAlB;;AAGA,gBAAI,SAAJ,GAAgB,EAAhB;AAGA,iBAAK,wBAAL,CAA8B,WAA9B,CAA0C,GAA1C;;AAIA,iBAAK,eAAL,CAAqB,IAArB,CAA0B;AACxB,mBAAK,GADmB;AAExB,mBAAK;AAFmB,aAA1B;;AAMA,kBAAM,MAAM,KAAK,WAAL,CAAiB,YAA7B;AAED;AACF,S;;iCAMD,2B,0CAA8B;;AAE5B,cAAI,qBAAqB,CACvB,gDADuB,EAEvB,QAFuB,EAGvB,8DAHuB,EAIvB,yEAJuB,EAKvB,kCALuB,EAMvB,QANuB,EAOvB,QAPuB,CAAzB;AASA,cAAI,cAAc,KAAK,KAAL,CAAW,YAAX,CAAwB,OAAxB,CAAgC,eAAe,mBAAmB,IAAnB,CAAwB,EAAxB,CAAf,GAA6C,aAA7E,EAA4F,KAAK,KAAL,CAAW,aAAvG,CAAlB;AACA,cAAI,OAAO,YAAY,MAAZ,CAAmB,KAAK,KAAL,CAAW,SAA9B,CAAX;AACA,eAAK,qBAAL,GAA6B,IAAI,QAAJ,CAAa,KAAK,WAAlB,EAA+B,IAA/B,CAA7B;AACA,eAAK,qBAAL,CAA2B,GAA3B,CAA+B,IAA/B;;AAEA,eAAK,qBAAL,CAA2B,IAA3B,CAAgC,KAAK,KAArC,EAA4C;AAC1C,4BAAgB,KAAK,KADqB;AAE1C,mCAAuB,KAAK,KAAL,CAAW;AAFQ,WAA5C;AAIA,eAAK,qBAAL,CAA2B,QAA3B;AACD,S;;iCAMD,oB,mCAAuB;AACrB,cAAI,cAAc,KAAK,oBAAL,EAAlB;AACA,cAAI,OAAO,YAAY,MAAZ,CAAmB,KAAK,KAAL,CAAW,SAA9B,CAAX;AACA,eAAK,cAAL,GAAsB,IAAI,QAAJ,CAAa,KAAK,mBAAlB,EAAuC,IAAvC,CAAtB;AACA,eAAK,cAAL,CAAoB,GAApB,CAAwB,IAAxB;;AAEA,cAAI,iBAAiB,EAArB;AACA,eAAK,cAAL,CAAoB,IAApB,CAAyB,cAAzB,EAAyC;AACvC,4BAAgB,cADuB;AAEvC,mCAAuB,KAAK,KAAL,CAAW;AAFK,WAAzC;AAIA,eAAK,cAAL,CAAoB,QAApB;AACD,S;;iCAMD,kB,iCAAqB;AACnB,cAAI,OAAO,KAAK,eAAhB;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,MAAzB,EAAiC,GAAjC,EAAsC;AACpC,gBAAI,cAAc,KAAK,iBAAL,EAAlB;AACA,gBAAI,OAAO,YAAY,MAAZ,CAAmB,KAAK,KAAL,CAAW,SAA9B,CAAX;AACA,iBAAK,CAAL,EAAQ,QAAR,GAAmB,IAAI,QAAJ,CAAa,KAAK,CAAL,EAAQ,GAArB,EAA0B,IAA1B,CAAnB;AACA,iBAAK,CAAL,EAAQ,QAAR,CAAiB,GAAjB,CAAqB,IAArB;AACA,gBAAI,iBAAiB,EAArB;AACA,iBAAK,CAAL,EAAQ,QAAR,CAAiB,IAAjB,CAAsB,cAAtB,EAAsC;AACpC,8BAAgB,cADoB;AAEpC,qCAAuB,KAAK,KAAL,CAAW;AAFE,aAAtC;AAIA,iBAAK,CAAL,EAAQ,QAAR,CAAiB,QAAjB;AACD;AACF,S;;iCAMD,oB,mCAAuB;AACrB,cAAI,eAAe,KAAK,WAAL,CAAiB,cAAjB,IAAmC,+BAAtD;AACA,cAAI,cAAc,KAAK,KAAL,CAAW,YAAX,CAAwB,OAAxB,gBAA6C,YAA7C,kBAAwE,KAAK,KAAL,CAAW,aAAnF,CAAlB;AACA,cAAI,OAAO,YAAY,MAAZ,CAAmB,KAAK,KAAL,CAAW,SAA9B,CAAX;;AAEA,eAAK,cAAL,GAAsB,IAAI,QAAJ,CAAa,KAAK,aAAlB,EAAiC,IAAjC,CAAtB;AACA,eAAK,cAAL,CAAoB,GAApB,CAAwB,IAAxB;;AAEA,eAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB,EAA+B;AAC7B,4BAAgB,IADa;AAE7B,mCAAuB,KAAK,KAAL,CAAW;AAFL,WAA/B;;AAKA,eAAK,cAAL,CAAoB,QAApB;AACD,S;;iCAMD,iB,gCAAoB;AAClB,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,iBAAL,EAApB,EAA8C,GAA9C,EAAmD;AACjD,gBAAI,aAAa,KAAK,eAAL,CAAqB,CAArB,EAAwB,GAAxB,GAA8B,KAAK,WAAL,CAAiB,YAAhE;AACA,gBAAI,MAAM,KAAK,eAAL,CAAqB,CAArB,CAAV;AACA,iBAAK,WAAL,CAAiB,gBAAjB,CAAkC,UAAlC,EAA8C,GAA9C,EAAmD,IAAnD,EAAyD,IAAzD;AACD;AACF,S;;iCAMD,e,4BAAgB,K,EAAO;AACrB,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,iBAAL,EAApB,EAA8C,GAA9C,EAAmD;AACjD,gBAAI,aAAa,KAAK,eAAL,CAAqB,CAArB,EAAwB,GAAxB,GAA8B,KAAK,WAAL,CAAiB,YAAhE;AACA,gBAAI,UAAU,UAAd,EAA0B;AACxB,kBAAI,MAAM,KAAK,eAAL,CAAqB,CAArB,CAAV;AACA,mBAAK,WAAL,CAAiB,gBAAjB,CAAkC,UAAlC,EAA8C,GAA9C,EAAmD,IAAnD,EAAyD,IAAzD;AACD;AACF;AACF,S;;iCAMD,wB,uCAA2B;AACzB,cAAI,CAAJ;AACA,eAAK,IAAI,CAAT,EAAY,IAAI,KAAK,iBAAL,EAAhB,EAA0C,GAA1C,EAA+C;AAC7C,gBAAI,aAAa,KAAK,eAAL,CAAqB,CAArB,EAAwB,GAAxB,GAA8B,KAAK,WAAL,CAAiB,YAAhE;AACA,gBAAI,KAAK,cAAL,CAAoB,UAApB,CAA+B,UAA/B,CAAJ,EAAgD;AAC9C,mBAAK,eAAL,CAAqB,CAArB,EAAwB,GAAxB,CAA4B,SAA5B,CAAsC,GAAtC,CAA0C,KAAK,WAAL,CAAiB,GAAjB,CAAqB,WAA/D;AACD,aAFD,MAEO;AACL,mBAAK,eAAL,CAAqB,CAArB,EAAwB,GAAxB,CAA4B,SAA5B,CAAsC,MAAtC,CAA6C,KAAK,WAAL,CAAiB,GAAjB,CAAqB,WAAlE;AACD;AACF;AACF,S;;iCAMD,oB,mCAAuB;AACrB,cAAI,cAAc,EAAlB;AACA,cAAI,KAAK,KAAL,CAAW,WAAX,CAAuB,QAA3B,EAAqC;AACnC,0BAAc,KAAK,KAAL,CAAW,WAAX,CAAuB,uBAArC;AACD,WAFD,MAEO;AACL,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,WAAL,CAAiB,YAArC,EAAmD,GAAnD,EAAwD;;AAEtD,kBAAI,2BAAwB,KAAK,WAAL,CAAiB,SAAjB,CAA2B,CAA3B,EAA8B,QAAtD,SAAJ;AACA,kBAAI,6BAAyB,KAAK,WAAL,CAAiB,GAAjB,CAAqB,eAArB,GAAuC,CAAhE,QAAJ;AACA,kBAAI,WAAW,KAAK,WAAL,CAAiB,SAAjB,CAA2B,CAA3B,EAA8B,iBAA7C;;AAEA,4BAAc,uCAAoC,KAApC,SAA6C,YAA7C,qBAAwE,CAAxE,WAA8E,QAA9E,0BAAd;AACD;AACF;AACD,cAAI,cAAc,KAAK,KAAL,CAAW,YAAX,CAAwB,OAAxB,gBAA6C,WAA7C,kBAAuE,KAAK,KAAL,CAAW,aAAlF,CAAlB;AACA,iBAAO,WAAP;AACD,S;;iCAMD,iB,gCAAoB;AAClB,cAAI,WAAJ;;AAEA,cAAI,KAAK,cAAL,KAAwB,IAA5B,EAAkC;AAChC,0BAAc,KAAK,cAAnB;AACD,WAFD,MAEO;AACL,gBAAI,cAAc,EAAlB;AACA,gBAAI,KAAK,KAAL,CAAW,WAAX,CAAuB,QAA3B,EAAqC;AACnC,4BAAc,eAAe,KAAK,WAAL,CAAiB,iBAAhC,GAAoD,aAAlE;AACD,aAFD,MAEO;AACL,4BAAc,YAAd;AACA,mBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,WAAL,CAAiB,YAArC,EAAmD,GAAnD,EAAwD;;AAEtD,oBAAI,2BAAwB,KAAK,WAAL,CAAiB,SAAjB,CAA2B,CAA3B,EAA8B,QAAtD,SAAJ;AACA,oBAAI,6BAAyB,KAAK,WAAL,CAAiB,GAAjB,CAAqB,SAArB,GAAiC,CAA1D,QAAJ;AACA,oBAAI,WAAW,KAAK,WAAL,CAAiB,SAAjB,CAA2B,CAA3B,EAA8B,cAA7C;;AAEA,8BAAc,oCAAiC,KAAjC,SAA0C,YAA1C,mBAAoE,CAApE,SAAyE,QAAzE,uBAAd;AACD;AACD,4BAAc,aAAd;AACD;AACD,0BAAc,KAAK,KAAL,CAAW,YAAX,CAAwB,OAAxB,CAAgC,WAAhC,EAA6C,KAAK,KAAL,CAAW,aAAxD,CAAd;AACD;;AAGD,eAAK,cAAL,GAAsB,WAAtB;;AAGA,iBAAO,KAAK,cAAZ;AAED,S;;iCAMD,mB,kCAAsB;AACpB,cAAI,QAAQ,CAAZ;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,WAAL,CAAiB,YAArC,EAAmD,GAAnD,EAAwD;AACtD,oBAAQ,QAAQ,SAAS,KAAK,WAAL,CAAiB,SAAjB,CAA2B,CAA3B,EAA8B,QAAvC,EAAiD,EAAjD,CAAhB;AACD;AACD,iBAAO,KAAP;AACD,S;;iCAMD,iB,gCAAoB;AAClB,iBAAO,KAAK,eAAL,CAAqB,MAA5B;AACD,S;;iCAMD,c,2BAAe,Q,EAAU,S,EAAW,Q,EAAU;AAC5C,mBAAS,SAAT,EAAoB,GAApB,CAAwB,KAAxB,CAA8B,SAA9B,wBAA6D,QAA7D;AACA,mBAAS,SAAT,EAAoB,GAApB,GAA0B,QAA1B;AACD,S;;iCAMD,gC,+CAAmC;AACjC,eAAK,2BAAL;AACA,eAAK,aAAL,CAAmB,WAAnB,CAA+B,KAAK,mBAApC;AACA,eAAK,uBAAL;AACA,eAAK,oBAAL;AACD,S;;iCAMD,wB,uCAA2B;AACzB,cAAI,mBAAmB,KAAK,WAAL,CAAiB,mBAAjB,EAAvB;AACA,eAAK,gBAAL,GAAwB,mBAAmB,KAAK,WAAL,CAAiB,YAA5D;AACD,S;;iCAMD,4B,2CAA+B;AAC7B,eAAK,wBAAL,CAA8B,KAA9B,CAAoC,KAApC,GAA4C,KAAK,KAAL,CAAW,WAAX,CAAuB,QAAvB,GAAkC,MAAlC,GAA2C,KAAK,mBAAL,KAA6B,IAApH;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,eAAL,CAAqB,MAAzC,EAAiD,GAAjD,EAAsD;AACpD,iBAAK,eAAL,CAAqB,CAArB,EAAwB,GAAxB,CAA4B,KAA5B,CAAkC,KAAlC,GAA0C,MAA1C;AACA,iBAAK,eAAL,CAAqB,CAArB,EAAwB,GAAxB,CAA4B,KAA5B,CAAkC,WAAlC,IAAiD,KAAK,mBAAL,KAA6B,IAA9E;AACD;AACD,eAAK,mBAAL,CAAyB,KAAzB,CAA+B,KAA/B,GAAuC,KAAK,KAAL,CAAW,WAAX,CAAuB,QAAvB,GAAkC,MAAlC,GAA2C,KAAK,mBAAL,KAA6B,IAA/G;AACD,S;;iCAMD,+B,8CAAkC;AAChC,eAAK,wBAAL,CAA8B,KAA9B,CAAoC,KAApC,GAA4C,KAAK,KAAL,CAAW,WAAX,CAAuB,QAAvB,GAAkC,MAAlC,GAA2C,KAAK,mBAAL,KAA6B,IAApH;AACA,eAAK,mBAAL,CAAyB,KAAzB,CAA+B,KAA/B,GAAuC,KAAK,KAAL,CAAW,WAAX,CAAuB,QAAvB,GAAkC,MAAlC,GAA2C,KAAK,mBAAL,KAA6B,IAA/G;AACD,S;;iCAMD,kC,iDAAqC;AACnC,cAAI,aAAa,SAAU,KAAK,iBAAL,CAAuB,aAAvB,GAAuC,KAAK,WAAL,CAAiB,YAAlE,EAAiF,EAAjF,CAAjB;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,iBAAL,EAApB,EAA8C,GAA9C,EAAmD;AACjD,gBAAI,MAAM,KAAK,eAAL,CAAqB,CAArB,CAAV;AACA,gBAAI,SAAS,SAAS,IAAI,GAAb,EAAkB,EAAlB,CAAb;AACA,gBAAI,SAAU,CAAC,KAAK,WAAL,CAAiB,mBAAjB,KAAyC,CAA1C,IAA+C,KAAK,WAAL,CAAiB,YAA1E,IAA2F,SAAU,SAAS,KAAK,cAAL,CAAoB,KAApB,CAA0B,MAAnC,IAA6C,KAAK,WAAL,CAAiB,YAAvK,EAAsL;AACpL,mBAAK,cAAL,CAAoB,CAAC,GAAD,CAApB,EAA2B,CAA3B,EAA8B,CAAC,IAAD,GAAQ,CAAtC;AACD;AACF;;AAED,eAAK,eAAL,CAAqB,IAArB,CACE,UAAU,CAAV,EAAa,CAAb,EAAgB;AACd,mBAAO,SAAS,EAAE,GAAX,IAAkB,SAAS,EAAE,GAAX,CAAzB;AACD,WAHH;AAID,S;;iCAMD,oB,mCAAuB;AACrB,cAAI,mBAAmB,KAAK,WAAL,CAAiB,mBAAjB,KAAyC,KAAK,WAAL,CAAiB,YAA1D,GAA0E,KAAK,WAAL,CAAiB,YAAjB,GAAgC,CAAjI;AACA,cAAI,aAAa,KAAK,cAAL,CAAoB,YAArC;AACA,cAAI,oBAAoB,UAAxB,EAAoC;AAClC,iBAAK,cAAL,CAAoB,SAApB,GAAgC,CAAhC;AACA,iBAAK,cAAL,CAAoB,KAApB,CAA0B,QAA1B,GAAqC,EAArC;AACA,iBAAK,cAAL,CAAoB,KAApB,CAA0B,SAA1B,GAAsC,QAAtC;AACA,iBAAK,cAAL,CAAoB,KAApB,CAA0B,SAA1B,GAAsC,QAAtC;AACA,iBAAK,aAAL,CAAmB,KAAnB,CAAyB,SAAzB,GAAqC,QAArC;AACD,WAND,MAMO;AACL,iBAAK,cAAL,CAAoB,KAApB,CAA0B,QAA1B,GAAqC,EAArC;AACA,iBAAK,cAAL,CAAoB,KAApB,CAA0B,SAA1B,GAAsC,QAAtC;AACA,iBAAK,cAAL,CAAoB,KAApB,CAA0B,SAA1B,GAAsC,QAAtC;AACA,iBAAK,aAAL,CAAmB,KAAnB,CAAyB,SAAzB,GAAqC,QAArC;AACD;;AAGD,cAAI,KAAK,cAAL,CAAoB,WAApB,GAAkC,CAAlC,GAAsC,KAAK,mBAAL,EAA1C,EAAsE;AACpE,iBAAK,cAAL,CAAoB,KAApB,CAA0B,SAA1B,GAAsC,QAAtC;AACD;AAGF,S;;iCAMD,mB,kCAAsB;AACpB,cAAI,CAAC,KAAK,WAAL,CAAiB,gBAAtB,EAAwC;AACtC,iBAAK,WAAL,CAAiB,gBAAjB,GAAoC,KAAK,aAAL,GAAqB,GAAzD;AACD;AACF,S;;iCAMD,wB,uCAA2B;AACzB,cAAI,OAAO,KAAK,eAAhB;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,MAAzB,EAAiC,GAAjC,EAAsC;AACpC,iBAAK,CAAL,EAAQ,QAAR,CAAiB,MAAjB;AACA,iBAAK,CAAL,EAAQ,QAAR,CAAiB,QAAjB;AACA,iBAAK,CAAL,EAAQ,QAAR,CAAiB,SAAjB;AACA,iBAAK,CAAL,EAAQ,QAAR,GAAmB,IAAnB;AACA,iBAAK,CAAL,EAAQ,GAAR,CAAY,SAAZ,GAAwB,EAAxB;AACA,iBAAK,cAAL,GAAsB,IAAtB;AACD;AACF,S;;iCAMD,2B,0CAA8B;AAC5B,eAAK,cAAL,CAAoB,MAApB;AACA,eAAK,cAAL,CAAoB,QAApB;AACA,eAAK,cAAL,CAAoB,SAApB;AACA,eAAK,cAAL,GAAsB,IAAtB;AACD,S;;iCAMD,2B,0CAA8B;AAC5B,cAAI,KAAK,cAAT,EAAyB;AACvB,iBAAK,cAAL,CAAoB,MAApB;AACA,iBAAK,cAAL,CAAoB,QAApB;AACA,iBAAK,cAAL,CAAoB,SAApB;AACA,iBAAK,cAAL,GAAsB,IAAtB;AACD;AACF,S;;iCAMD,kC,iDAAqC;AACnC,cAAI,KAAK,qBAAT,EAAgC;AAC9B,iBAAK,qBAAL,CAA2B,MAA3B;AACA,iBAAK,qBAAL,CAA2B,QAA3B;AACA,iBAAK,qBAAL,CAA2B,SAA3B;AACA,iBAAK,qBAAL,GAA6B,IAA7B;AACD;AACF,S;;iCAMD,qB,oCAAwB;AACtB,eAAK,wBAAL;AACA,eAAK,2BAAL;AACA,eAAK,2BAAL;AACA,eAAK,kCAAL;AACD,S;;iCAMD,oB,mCAAuB;AACrB,eAAK,wBAAL;AACA,eAAK,kBAAL;AACD,S;;iCAMD,U,yBAAa;AACX,eAAK,qBAAL;AACA,eAAK,YAAL,CAAkB,sBAAlB,CAAyC,KAAK,WAAL,CAAiB,GAAjB,CAAqB,OAA9D,EAAuE,CAAvE,EAA0E,MAA1E;AACA,eAAK,eAAL,GAAuB,IAAvB;AACA,eAAK,eAAL,GAAuB,EAAvB;AACA,eAAK,aAAL,GAAqB,IAArB;AACA,eAAK,cAAL,GAAsB,IAAtB;AACA,eAAK,aAAL,GAAqB,IAArB;AACA,eAAK,wBAAL,GAAgC,IAAhC;AACA,eAAK,cAAL,GAAsB,IAAtB;AACA,eAAK,IAAL,CAAU,IAAV;AACA,eAAK,iBAAL;AACD,S;;iCAMD,iB,gCAAoB;AAClB,cAAI,oBAAoB,KAAK,cAAL,CAAoB,UAA5C;AACA,eAAK,aAAL,CAAmB,UAAnB,GAAgC,iBAAhC;AACD,S;;iCAMD,c,6BAAiB;AACf,eAAK,gCAAL;AACA,eAAK,oBAAL;AACA,eAAK,iBAAL;AACA,eAAK,4BAAL;AACA,eAAK,wBAAL;AACA,eAAK,oBAAL;AACA,eAAK,iBAAL;AACD,S;;iCAMD,kB,iCAAqB;AACnB,eAAK,oBAAL;AACA,eAAK,iBAAL;AACA,eAAK,wBAAL;AACA,eAAK,iBAAL;AACD,S;;iCAMD,yB,sCAA0B,gB,EAAkB;AAC1C,eAAK,gCAAL;AACA,eAAK,oBAAL;AACA,eAAK,iBAAL;AACA,eAAK,wBAAL;AACA,eAAK,gBAAL,CAAsB,gBAAtB;AACD,S;;iCAMD,gB,6BAAiB,gB,EAAkB,Y,EAAc;AAC/C,cAAI,KAAK,kBAAT,EAA6B;AAE3B,2BAAe,IAAf;AACA,iBAAK,kBAAL,GAA0B,KAA1B;AACD;;AAED,eAAK,wBAAL;AACA,eAAK,wBAAL,CAA8B,KAA9B,CAAoC,MAApC,GAA6C,KAAK,gBAAL,GAAwB,IAArE;AACA,cAAI,QAAQ,KAAZ;AACA,cAAI,qBAAqB,IAAzB,EAA+B;AAC7B,iBAAK,cAAL,CAAoB,SAApB,GAAgC,CAAhC;AACD;AACD,cAAI,KAAK,gBAAL,GAAwB,KAAK,cAAL,CAAoB,SAA5C,IAAyD,YAA7D,EAA2E;AACzE,gBAAI,mBAAmB,KAAK,WAAL,CAAiB,mBAAjB,EAAvB;AACA,gBAAI,cAAc,SAAS,KAAK,cAAL,CAAoB,YAApB,GAAmC,KAAK,WAAL,CAAiB,YAA7D,CAAlB;AACA,gBAAI,qBAAqB,cAAc,KAAK,WAAL,CAAiB,YAAxD;AACA,iBAAK,cAAL,CAAoB,SAApB,GAAkC,mBAAmB,KAAK,WAAL,CAAiB,YAArC,GAAsD,kBAAvF;AAED;;AAED,eAAK,oBAAL;AACA,eAAK,4BAAL;AACA,eAAK,wBAAL;AACA,eAAK,iBAAL;AACA,eAAK,iBAAL,CAAuB,aAAvB;AACA,eAAK,iBAAL;AACA,cAAI,YAAJ,EAAkB;AAChB,iBAAK,cAAL,CAAoB,SAApB,GAAgC,KAAK,cAAL,CAAoB,SAApB,GAAgC,KAAK,WAAL,CAAiB,YAAjF;AACD;;AAED,eAAK,wBAAL,CAA8B,KAA9B,CAAoC,MAApC,GAA6C,KAAK,gBAAL,GAAwB,CAAxB,GAA4B,IAAzE;AACA,eAAK,wBAAL,CAA8B,KAA9B,CAAoC,MAApC,GAA6C,KAAK,gBAAL,GAAwB,CAAxB,GAA4B,IAAzE;;AAEA,eAAK,KAAL,CAAW,mBAAX;AACD,S;;;;8BA/xBoB;AACnB,gBAAI,KAAK,KAAT,EAAgB;AACd,qBAAO,KAAK,KAAL,CAAW,cAAlB;AACD,aAFD,MAEO;AACL,qBAAO,IAAP;AACD;AACF;;;8BAEiB;AAChB,gBAAI,KAAK,KAAT,EAAgB;AACd,qBAAO,KAAK,KAAL,CAAW,WAAlB;AACD,aAFD,MAEO;AACL,qBAAO,IAAP;AACD;AACF;;;8BAEqB;AACpB,gBAAI,KAAK,KAAT,EAAgB;AACd,qBAAO,KAAK,KAAL,CAAW,eAAlB;AACD,aAFD,MAEO;AACL,qBAAO,IAAP;AACD;AACF;;;8BAEkB;AACjB,gBAAI,KAAK,KAAT,EAAgB;AACd,qBAAO,KAAK,KAAL,CAAW,OAAlB;AACD,aAFD,MAEO;AACL,qBAAO,IAAP;AACD;AACF;;;8BAGoB;AACnB,gBAAI,KAAK,KAAT,EAAgB;AACd,qBAAO,KAAK,KAAL,CAAW,cAAlB;AACD,aAFD,MAEO;AACL,qBAAO,IAAP;AACD;AACF;;;8BAGuB;AACtB,gBAAI,KAAK,KAAT,EAAgB;AACd,qBAAO,KAAK,KAAL,CAAW,iBAAlB;AACD,aAFD,MAEO;AACL,qBAAO,IAAP;AACD;AACF","file":"vGrid/v-grid-generator.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\n *    vGridGenerator\n *    This generates all html and adds the main events\n *    Created by vegar ringdal\n *\n ****************************************************************************************************************/\nimport {ViewSlot} from 'aurelia-framework';\n\nexport class VGridGenerator {\n\n  constructor(vGrid) {\n    this.vGrid = vGrid;\n  }\n\n  /***************************************************************************************\n   * getters/setters to make it easier\n   ***************************************************************************************/\n\n  get vGridSelection() {\n    if (this.vGrid) {\n      return this.vGrid.vGridSelection;\n    } else {\n      return null;\n    }\n  }\n\n  get vGridConfig() {\n    if (this.vGrid) {\n      return this.vGrid.vGridConfig;\n    } else {\n      return null;\n    }\n  }\n\n  get vGridCellHelper() {\n    if (this.vGrid) {\n      return this.vGrid.vGridCellHelper;\n    } else {\n      return null;\n    }\n  }\n\n  get vGridElement() {\n    if (this.vGrid) {\n      return this.vGrid.element;\n    } else {\n      return null;\n    }\n  }\n\n\n  get vGridResizable() {\n    if (this.vGrid) {\n      return this.vGrid.vGridResizable;\n    } else {\n      return null;\n    }\n  }\n\n\n  get vGridScrollEvents() {\n    if (this.vGrid) {\n      return this.vGrid.vGridScrollEvents;\n    } else {\n      return null;\n    }\n  }\n\n\n  /*************************************************************************************\n   * internal vars\n   *************************************************************************************/\n\n  contentHeight = 0;\n  gridHeight = 0;\n  gridWidth = 0;\n  scrollBodyHeight = 0;\n  scrollBottomOnNext = false;\n\n  //cache\n  gridElement = null;\n  headerElement = null;\n  headerScrollElement = null;\n  contentElement = null;\n  footerElement = null;\n  rowElementArray = []; //this contains top, viewslots and \"div\" is the html element\n  contentScrollBodyElement = null;\n\n  //viewPorts\n  rowViewFactory = null;\n  loadingScreenViewSlot = null;\n  headerViewSlot = null;\n  footerViewSlot = null;\n\n\n  /****************************************************************************************************************************\n   * will create the actual grid (cant be constructor since I call this when rebuilding)\n   ****************************************************************************************************************************/\n  init(isRebuild) {\n    this.addHtml();\n    this.addEvents();\n    if (!isRebuild) {\n      this.vGridSelection.setMode(this.vGridConfig.attMultiSelect);\n    }\n    this.updateGridScrollbars();\n    this.rebindAllRowSlots();\n    this.setLargeScrollLimit();\n\n    this.vGrid.sendCollectionEvent();\n\n  }\n\n\n  /****************************************************************************************************************************\n   * add the html\n   ****************************************************************************************************************************/\n  addHtml() {\n    //hetml elements\n    this.createGridElement();\n    this.createGridHeaderElement();\n    this.createGridContentElement();\n    this.createGridFooterElement();\n    this.createGridScrollBodyElement();\n    this.createGridRowElements();\n\n    //loadingscreen viewslot\n    this.createLoadingScreenViewSlot();\n    this.createHeaderViewSlot();\n    this.createRowViewSlots();\n    if (this.vGridConfig.eventOnRemoteCall) {\n      this.createFooterViewSlot()\n    }\n  }\n\n\n  /****************************************************************************************************************************\n   * add the events  (this is called during rebuild etc\n   ****************************************************************************************************************************/\n  addEvents() {\n    //add all click events to rows\n    for (var i = 0; i < this.getRowCacheLength(); i++) {\n      var rowElement = this.rowElementArray[i].div;\n\n      rowElement.addEventListener(\"dblclick\", (e) => {\n        var currentRow = parseInt(e.currentTarget.getAttribute(\"row\"));\n        this.vGridConfig.clickHandler(e, currentRow);\n      }, false);\n\n      rowElement.addEventListener(\"click\", (e) => {\n        var currentRow = parseInt(e.currentTarget.getAttribute(\"row\"));\n        this.vGridConfig.clickHandler(e, currentRow);\n        if (this.vGridConfig.attMultiSelect !== undefined) {\n          this.vGridSelection.highlight(e, currentRow, this);\n        }\n      }, false);\n\n    }\n\n    //this have to be after clcik since it will cancel if scroll event\n    this.contentElement.addEventListener(\"scroll\", (e)=> {\n      if (this.vGridConfig.attRequestAnimationFrame) {\n        requestAnimationFrame(() => {\n          this.vGridScrollEvents.scrollEventHandler();\n        });\n      } else {\n        this.vGridScrollEvents.scrollEventHandler();\n      }\n    });\n\n    //fix bug when tabbing headers, and header is larger then content width\n    this.headerElement.addEventListener(\"scroll\", (e)=> {\n      this.contentElement.scrollLeft = this.headerElement.scrollLeft;\n      this.vGridScrollEvents.lastScrollLeft = this.headerElement.scrollLeft;\n\n    });\n\n  }\n\n\n  /****************************************************************************************************************************\n   * gets the main div to create grid in\n   ****************************************************************************************************************************/\n  createGridElement() {\n\n    var x = document.createElement(\"DIV\"); //create this a container for my 3 rows\n    this.vGridElement.appendChild(x);\n    this.vGridElement.style.display = \"block\"; //this was the issue for all my problems\n    this.gridElement = x;\n\n    //do this for I know very little about css, and doing it like this I didnt get those weird side effects\n    //todo look at this again, do not like what Ive done here\n    this.gridElement.classList.add(this.vGridConfig.css.wrapper);\n    this.gridElement.style.position = \"relative\";\n    this.gridElement.style.height = '100%';\n    this.gridElement.style.width = \"100%\";\n\n    //get default height and width\n    this.gridHeight = this.gridElement.clientHeight;\n    this.gridWidght = this.gridElement.clientWidth;\n\n  }\n\n\n  /****************************************************************************************************************************\n   * add header div\n   ****************************************************************************************************************************/\n  createGridHeaderElement() {\n    //create and append header div\n    var header = document.createElement(\"DIV\");\n    header.classList.add(this.vGridConfig.css.mainHeader);\n    header.style.height = this.vGridConfig.attHeaderHeight + \"px\";\n    if (!this.headerElement) {\n      this.gridElement.appendChild(header);\n      this.headerElement = header;\n    } else {\n      this.headerElement.innerHTML = header.innerHTML;\n    }\n    this.headerScrollElement = document.createElement(\"DIV\");\n    this.headerScrollElement.classList.add(this.vGridConfig.css.row);\n    this.headerScrollElement.classList.add(this.vGridConfig.css.rowHeader);\n    this.headerScrollElement.style.height = this.vGridConfig.attHeaderHeight + \"px\";\n    this.headerScrollElement.style.width = this.vGrid.vGridConfig.repeater ? \"100%\" : this.getTotalColumnWidth() + \"px\";\n    this.headerElement.appendChild(this.headerScrollElement);\n  }\n\n\n  /****************************************************************************************************************************\n   * add content div\n   ****************************************************************************************************************************/\n  createGridContentElement() {\n\n    //calculate content height\n    var gridWrapperHeight = this.gridHeight;\n    var headerAndFooterHeight = this.vGridConfig.attHeaderHeight + this.vGridConfig.attFooterHeight;\n    this.contentHeight = gridWrapperHeight - headerAndFooterHeight;\n\n    //create and append content div\n    this.contentElement = document.createElement(\"DIV\");\n    this.contentElement.classList.add(this.vGridConfig.css.mainContent);\n    this.contentElement.style.height = this.contentHeight + \"px\";\n    this.gridElement.appendChild(this.contentElement);\n\n  }\n\n\n  /****************************************************************************************************************************\n   * adds the footer\n   ****************************************************************************************************************************/\n  createGridFooterElement() {\n    //create and append\n    this.footerElement = document.createElement(\"DIV\");\n    this.footerElement.classList.add(this.vGridConfig.css.mainFooter);\n    this.footerElement.style.height = this.vGridConfig.attFooterHeight + \"px\";\n    this.gridElement.appendChild(this.footerElement);\n  }\n\n\n  /****************************************************************************************************************************\n   * add the scroll body\n   ****************************************************************************************************************************/\n  createGridScrollBodyElement() {\n    this.setScrollBodyHeightToVar();\n    //create and append\n    this.contentScrollBodyElement = document.createElement(\"DIV\");\n    this.contentScrollBodyElement.classList.add(this.vGridConfig.css.scrollBody);\n    this.contentScrollBodyElement.style.height = this.scrollBodyHeight + \"px\";\n    this.contentScrollBodyElement.style.width = this.vGrid.vGridConfig.repeater ? \"100%\" : this.getTotalColumnWidth() + \"px\";\n    this.contentElement.appendChild(this.contentScrollBodyElement);\n  }\n\n\n  /****************************************************************************************************************************\n   * add the rows to scroll div\n   ****************************************************************************************************************************/\n  createGridRowElements() {\n    //rows we need to fill up visible container\n    var minimumRowsNeeded = parseInt(this.contentHeight / this.vGridConfig.attRowHeight, 10);\n\n    //set extra so we can buffer\n    if (minimumRowsNeeded % 2 === 1) {\n      minimumRowsNeeded = minimumRowsNeeded + 7;\n    } else {\n      minimumRowsNeeded = minimumRowsNeeded + 6;\n    }\n\n    var top = 0;\n    for (var i = 0; i < minimumRowsNeeded; i++) {\n\n      var row = document.createElement(\"DIV\");\n      //add row css\n      row.classList.add(this.vGridConfig.css.row);\n      //add alt/even css\n      if (i % 2 === 1) {\n        row.classList.add(this.vGridConfig.css.rowAlt);\n      } else {\n        row.classList.add(this.vGridConfig.css.rowEven);\n      }\n\n      row.style.height = this.vGridConfig.attRowHeight + \"px\";\n\n      this.setRowTopValue([{\n        div: row,\n        top: 0\n      }], 0, top);\n\n      row.style[\"min-width\"] = this.getTotalColumnWidth() + \"px\";\n      row.style.width = \"100%\";\n\n      //inner magic\n      row.innerHTML = \"\"; //? why Im I doing this? todo test... why\n\n      //add to scroll body\n      this.contentScrollBodyElement.appendChild(row);\n\n      //push into our html cache for later use when scrolling\n      //own for top so we get it faster\n      this.rowElementArray.push({\n        div: row,\n        top: top\n      });\n\n      //set new top for next row\n      top = top + this.vGridConfig.attRowHeight;\n\n    }//end for loop\n  }\n\n\n  /****************************************************************************************************************************\n   * creates loading screen\n   ****************************************************************************************************************************/\n  createLoadingScreenViewSlot() {\n\n    var loadingScreentHtml = [\n      '<div class=\"v-grid-overlay\" if.bind=\"loading\">',\n      '</div>',\n      '<div if.two-way=\"loading\" class=\"v-grid-progress-indicator\">',\n      '<div class=\"v-grid-progress-bar\" role=\"progressbar\" style=\"width:100%\">',\n      '<span>${ loadingMessage }</span>',\n      '</div>',\n      '</div>'\n    ];\n    var viewFactory = this.vGrid.viewCompiler.compile('<template>' + loadingScreentHtml.join(\"\") + '</template>', this.vGrid.viewResources);\n    var view = viewFactory.create(this.vGrid.container);\n    this.loadingScreenViewSlot = new ViewSlot(this.gridElement, true);\n    this.loadingScreenViewSlot.add(view);\n    //bind\n    this.loadingScreenViewSlot.bind(this.vGrid, {\n      bindingContext: this.vGrid,\n      parentOverrideContext: this.vGrid.overrideContext\n    });\n    this.loadingScreenViewSlot.attached();\n  }\n\n\n  /****************************************************************************************************************************\n   * creates the header viewslot\n   ****************************************************************************************************************************/\n  createHeaderViewSlot() {\n    var viewFactory = this.getHeaderViewFactory();\n    var view = viewFactory.create(this.vGrid.container);\n    this.headerViewSlot = new ViewSlot(this.headerScrollElement, true);\n    this.headerViewSlot.add(view);\n    //bind\n    let bindingContext = {};\n    this.headerViewSlot.bind(bindingContext, {\n      bindingContext: bindingContext,\n      parentOverrideContext: this.vGrid.overrideContext\n    });\n    this.headerViewSlot.attached();\n  }\n\n\n  /****************************************************************************************************************************\n   * creates the row viewslots\n   ****************************************************************************************************************************/\n  createRowViewSlots() {\n    var rows = this.rowElementArray;\n    for (var i = 0; i < rows.length; i++) {\n      var viewFactory = this.getRowViewFactory();\n      var view = viewFactory.create(this.vGrid.container);\n      rows[i].viewSlot = new ViewSlot(rows[i].div, true);\n      rows[i].viewSlot.add(view);\n      let bindingContext = {};\n      rows[i].viewSlot.bind(bindingContext, {\n        bindingContext: bindingContext,\n        parentOverrideContext: this.vGrid.overrideContext\n      });\n      rows[i].viewSlot.attached();\n    }\n  }\n\n\n  /****************************************************************************************************************************\n   * creates the footer viewslots\n   ****************************************************************************************************************************/\n  createFooterViewSlot() {\n    var pagerElement = this.vGridConfig.attCustomPager || '<v-grid-pager></v-grid-pager>';\n    var viewFactory = this.vGrid.viewCompiler.compile(`<template>${pagerElement}</template>`, this.vGrid.viewResources);\n    var view = viewFactory.create(this.vGrid.container);\n\n    this.footerViewSlot = new ViewSlot(this.footerElement, true);\n    this.footerViewSlot.add(view);\n\n    this.footerViewSlot.bind(this, {\n      bindingContext: this,\n      parentOverrideContext: this.vGrid.overrideContext\n    });\n\n    this.footerViewSlot.attached();\n  }\n\n\n  /****************************************************************************************************************************\n   * fills data into rows (all)\n   ****************************************************************************************************************************/\n  rebindAllRowSlots() {\n    for (var i = 0; i < this.getRowCacheLength(); i++) {\n      var currentRow = this.rowElementArray[i].top / this.vGridConfig.attRowHeight;\n      var row = this.rowElementArray[i];\n      this.vGridConfig.updateRowBinding(currentRow, row, true, true);\n    }\n  };\n\n\n  /****************************************************************************************************************************\n   * fills data into row, 1 row!\n   ****************************************************************************************************************************/\n  rebindRowNumber(rowno) {\n    for (var i = 0; i < this.getRowCacheLength(); i++) {\n      var currentRow = this.rowElementArray[i].top / this.vGridConfig.attRowHeight;\n      if (rowno === currentRow) {\n        var row = this.rowElementArray[i];\n        this.vGridConfig.updateRowBinding(currentRow, row, true, true);\n      }\n    }\n  };\n\n\n  /****************************************************************************************************************************\n   * updates only selection on rows\n   ****************************************************************************************************************************/\n  updateSelectionOnAllRows() {\n    var i;\n    for (i = 0; i < this.getRowCacheLength(); i++) {\n      var currentRow = this.rowElementArray[i].top / this.vGridConfig.attRowHeight;\n      if (this.vGridSelection.isSelected(currentRow)) {\n        this.rowElementArray[i].div.classList.add(this.vGridConfig.css.rowSelected);\n      } else {\n        this.rowElementArray[i].div.classList.remove(this.vGridConfig.css.rowSelected);\n      }\n    }\n  };\n\n\n  /****************************************************************************************************************************\n   * returns header template\n   ****************************************************************************************************************************/\n  getHeaderViewFactory() {\n    var rowTemplate = \"\";\n    if (this.vGrid.vGridConfig.repeater) {\n      rowTemplate = this.vGrid.vGridConfig.repeatRowHeaderTemplate;\n    } else {\n      for (var i = 0; i < this.vGridConfig.columnLength; i++) {\n\n        var style = `style=\"width:${this.vGridConfig.colConfig[i].colWidth}px\"`;\n        var elementClass = `class=\"${this.vGridConfig.css.rowHeaderColumn + i}\"`;\n        var template = this.vGridConfig.colConfig[i].colHeaderTemplate;\n\n        rowTemplate = rowTemplate + `<v-grid-header-col ${style} ${elementClass} column-no=\"${i}\">${template}</v-grid-header-col>`;\n      }\n    }\n    var viewFactory = this.vGrid.viewCompiler.compile(`<template>${rowTemplate}</template>`, this.vGrid.viewResources);\n    return viewFactory;\n  };\n\n\n  /****************************************************************************************************************************\n   * returns row viewFactory, if it does not exist it creates it\n   ****************************************************************************************************************************/\n  getRowViewFactory() {\n    var viewFactory;\n\n    if (this.rowViewFactory !== null) {\n      viewFactory = this.rowViewFactory;\n    } else {\n      var rowTemplate = \"\";\n      if (this.vGrid.vGridConfig.repeater) {\n        rowTemplate = '<template>' + this.vGridConfig.repeatRowTemplate + '</template>'\n      } else {\n        rowTemplate = '<template>';\n        for (var i = 0; i < this.vGridConfig.columnLength; i++) {\n\n          var style = `style=\"width:${this.vGridConfig.colConfig[i].colWidth}px\"`;\n          var elementClass = `class=\"${this.vGridConfig.css.rowColumn + i}\"`;\n          var template = this.vGridConfig.colConfig[i].colRowTemplate;\n\n          rowTemplate = rowTemplate + `<v-grid-row-col ${style} ${elementClass} column-no=${i}>${template}</v-grid-row-col>`;\n        }\n        rowTemplate + '</template>';\n      }\n      viewFactory = this.vGrid.viewCompiler.compile(rowTemplate, this.vGrid.viewResources);\n    }\n\n    //cache template\n    this.rowViewFactory = viewFactory;\n\n    //return cache;\n    return this.rowViewFactory\n\n  };\n\n\n  /****************************************************************************************************************************\n   * get total column width\n   ****************************************************************************************************************************/\n  getTotalColumnWidth() {\n    var total = 0;\n    for (var i = 0; i < this.vGridConfig.columnLength; i++) {\n      total = total + parseInt(this.vGridConfig.colConfig[i].colWidth, 10);\n    }\n    return total;\n  };\n\n\n  /****************************************************************************************************************************\n   * gets the row cache length...\n   ****************************************************************************************************************************/\n  getRowCacheLength() {\n    return this.rowElementArray.length;\n  };\n\n\n  /****************************************************************************************************************************\n   * set top value, here I could have failback to TOP instead of translate 3d\n   ****************************************************************************************************************************/\n  setRowTopValue(rowArray, elementNo, topValue) {\n    rowArray[elementNo].div.style.transform = `translate3d(0px,${topValue}px, 0px)`;\n    rowArray[elementNo].top = topValue;\n  };\n\n\n  /****************************************************************************************************************************\n   * rebuild header div, needed if user sets new columns or something\n   ****************************************************************************************************************************/\n  rebuildGridHeaderHtmlAndViewSlot() {\n    this.unbindDetachHeaderViewSlots();\n    this.headerElement.removeChild(this.headerScrollElement);\n    this.createGridHeaderElement();\n    this.createHeaderViewSlot();\n  };\n\n\n  /****************************************************************************************************************************\n   * sets scroll body to interal variable\n   ****************************************************************************************************************************/\n  setScrollBodyHeightToVar() {\n    var collectionLength = this.vGridConfig.getCollectionLength();\n    this.scrollBodyHeight = collectionLength * this.vGridConfig.attRowHeight;\n  };\n\n\n  /****************************************************************************************************************************\n   * add the scroll body, this is needed when user chnages columns or resize the columns, so main content knows if scrollbars is needed\n   ****************************************************************************************************************************/\n  correctRowAndScrollbodyWidth() {\n    this.contentScrollBodyElement.style.width = this.vGrid.vGridConfig.repeater ? \"100%\" : this.getTotalColumnWidth() + \"px\";\n    for (var i = 0; i < this.rowElementArray.length; i++) {\n      this.rowElementArray[i].div.style.width = \"100%\";\n      this.rowElementArray[i].div.style[\"min-width\"] = this.getTotalColumnWidth() + \"px\";\n    }\n    this.headerScrollElement.style.width = this.vGrid.vGridConfig.repeater ? \"100%\" : this.getTotalColumnWidth() + \"px\";\n  };\n\n\n  /****************************************************************************************************************************\n   *\n   ****************************************************************************************************************************/\n  correctHeaderAndScrollbodyWidth() {\n    this.contentScrollBodyElement.style.width = this.vGrid.vGridConfig.repeater ? \"100%\" : this.getTotalColumnWidth() + \"px\";\n    this.headerScrollElement.style.width = this.vGrid.vGridConfig.repeater ? \"100%\" : this.getTotalColumnWidth() + \"px\";\n  };\n\n\n  /****************************************************************************************************************************\n   * helper, removes rows, se minus height so we cant scroll to empty\n   ****************************************************************************************************************************/\n  hideRowsThatIsLargerThanCollection() {\n    var currentRow = parseInt((this.vGridScrollEvents.lastScrollTop / this.vGridConfig.attRowHeight), 10);\n    for (var i = 0; i < this.getRowCacheLength(); i++) {\n      var row = this.rowElementArray[i];\n      var rowTop = parseInt(row.top, 10);\n      if (rowTop > ((this.vGridConfig.getCollectionLength() - 1) * this.vGridConfig.attRowHeight) && rowTop > (parseInt(this.contentElement.style.height) - this.vGridConfig.attRowHeight)) {\n        this.setRowTopValue([row], 0, -5000 + i);\n      }\n    }\n    //resort array\n    this.rowElementArray.sort(\n      function (a, b) {\n        return parseInt(a.top) - parseInt(b.top)\n      });\n  };\n\n\n  /****************************************************************************************************************************\n   * hiding scroll bars when not needed\n   ****************************************************************************************************************************/\n  updateGridScrollbars() {\n    var collectionHeight = this.vGridConfig.getCollectionLength() * this.vGridConfig.attRowHeight + (this.vGridConfig.attRowHeight / 2);\n    var bodyHeight = this.contentElement.offsetHeight;\n    if (collectionHeight <= bodyHeight) {\n      this.contentElement.scrollTop = 0;\n      this.contentElement.style.overflow = \"\";\n      this.contentElement.style.overflowY = \"hidden\";\n      this.contentElement.style.overflowX = \"hidden\";\n      this.headerElement.style.overflowY = \"hidden\";\n    } else {\n      this.contentElement.style.overflow = \"\";\n      this.contentElement.style.overflowY = \"scroll\";\n      this.contentElement.style.overflowX = \"hidden\";\n      this.headerElement.style.overflowY = \"scroll\";\n    }\n\n    //todo, what to do when its a repeater ?\n    if (this.contentElement.offsetWidth - 5 < this.getTotalColumnWidth()) {\n      this.contentElement.style.overflowX = \"scroll\";\n    }\n\n\n  };\n\n\n  /****************************************************************************************************************************\n   * sett large scroll limit, looks like *3 content height is a better match from lates testing\n   ****************************************************************************************************************************/\n  setLargeScrollLimit() {\n    if (!this.vGridConfig.largeScrollLimit) {\n      this.vGridConfig.largeScrollLimit = this.contentHeight * 1.5;\n    }\n  };\n\n\n  /****************************************************************************************************************************\n   * unbind & detach the  row view slots\n   ****************************************************************************************************************************/\n  unbindDetachRowViewSlots() {\n    var rows = this.rowElementArray;\n    for (var i = 0; i < rows.length; i++) {\n      rows[i].viewSlot.unbind();\n      rows[i].viewSlot.detached();\n      rows[i].viewSlot.removeAll();\n      rows[i].viewSlot = null;\n      rows[i].div.innerHTML = \"\";\n      this.rowViewFactory = null;\n    }\n  }\n\n\n  /****************************************************************************************************************************\n   * unbind & detach the  header view slot\n   ****************************************************************************************************************************/\n  unbindDetachHeaderViewSlots() {\n    this.headerViewSlot.unbind();\n    this.headerViewSlot.detached();\n    this.headerViewSlot.removeAll();\n    this.headerViewSlot = null;\n  }\n\n\n  /****************************************************************************************************************************\n   * unbind & detach the  header view slot\n   ****************************************************************************************************************************/\n  unbindDetachFooterViewSlots() {\n    if (this.footerViewSlot) {\n      this.footerViewSlot.unbind();\n      this.footerViewSlot.detached();\n      this.footerViewSlot.removeAll();\n      this.footerViewSlot = null;\n    }\n  }\n\n\n  /****************************************************************************************************************************\n   * unbind & detach the  header view slot\n   ****************************************************************************************************************************/\n  unbindDetachLoadingScreenViewSlots() {\n    if (this.loadingScreenViewSlot) {\n      this.loadingScreenViewSlot.unbind();\n      this.loadingScreenViewSlot.detached();\n      this.loadingScreenViewSlot.removeAll();\n      this.loadingScreenViewSlot = null;\n    }\n  }\n\n\n  /****************************************************************************************************************************\n   * unbind & detach all view slots\n   ****************************************************************************************************************************/\n  unbindDetachViewSlots() {\n    this.unbindDetachRowViewSlots();\n    this.unbindDetachHeaderViewSlots();\n    this.unbindDetachFooterViewSlots();\n    this.unbindDetachLoadingScreenViewSlots();\n  }\n\n\n  /****************************************************************************************************************************\n   * recreate the row view slots\n   ****************************************************************************************************************************/\n  recreateRowViewSlots() {\n    this.unbindDetachRowViewSlots();\n    this.createRowViewSlots();\n  }\n\n\n  /****************************************************************************************************************************\n   * redraws most parts of grid...\n   ****************************************************************************************************************************/\n  redrawGrid() {\n    this.unbindDetachViewSlots();\n    this.vGridElement.getElementsByClassName(this.vGridConfig.css.wrapper)[0].remove();\n    this.rowElementArray = null;\n    this.rowElementArray = [];\n    this.headerElement = null;\n    this.contentElement = null;\n    this.footerElement = null;\n    this.contentScrollBodyElement = null;\n    this.rowViewFactory = null;\n    this.init(true);\n    this.fixHeaderWithBody();\n  };\n\n\n  /****************************************************************************************************************************\n   * fixes header body width\n   ****************************************************************************************************************************/\n  fixHeaderWithBody() {\n    var currentScrollLeft = this.contentElement.scrollLeft;\n    this.headerElement.scrollLeft = currentScrollLeft;\n  };\n\n\n  /****************************************************************************************************************************\n   * rebuilds columns incl header row, used by internal, but can also be called from outside\n   ****************************************************************************************************************************/\n  rebuildColumns() {\n    this.rebuildGridHeaderHtmlAndViewSlot();\n    this.recreateRowViewSlots();\n    this.rebindAllRowSlots();\n    this.correctRowAndScrollbodyWidth();\n    this.updateSelectionOnAllRows();\n    this.updateGridScrollbars();\n    this.fixHeaderWithBody();\n  };\n\n\n  /****************************************************************************************************************************\n   * rebuilds columns (not header), used by internal, but can also be called from outside\n   ****************************************************************************************************************************/\n  rebuildColumnsRows() {\n    this.recreateRowViewSlots();\n    this.rebindAllRowSlots();\n    this.updateSelectionOnAllRows();\n    this.fixHeaderWithBody()\n  };\n\n\n  /****************************************************************************************************************************\n   * rebuilds columns and trigger collection change in grid (rebuild rows), used by internal, but can also be called from outside\n   ****************************************************************************************************************************/\n  columnChangeAndCollection(resetScrollToTop) {\n    this.rebuildGridHeaderHtmlAndViewSlot();\n    this.recreateRowViewSlots();\n    this.rebindAllRowSlots();\n    this.updateSelectionOnAllRows();\n    this.collectionChange(resetScrollToTop);\n  };\n\n\n  /****************************************************************************************************************************\n   * trigger collection change in grid (rebuild rows), used by internal, but can also be called from outside\n   ****************************************************************************************************************************/\n  collectionChange(resetScrollToTop, scrollBottom) {\n    if (this.scrollBottomOnNext) {\n      //if overriden\n      scrollBottom = true;\n      this.scrollBottomOnNext = false;\n    }\n    //adjust scroller before updating, so it created unwanted side effects\n    this.setScrollBodyHeightToVar();\n    this.contentScrollBodyElement.style.height = this.scrollBodyHeight + \"px\";\n    var reset = false;\n    if (resetScrollToTop === true) {\n      this.contentElement.scrollTop = 0;\n    }\n    if (this.scrollBodyHeight < this.contentElement.scrollTop || scrollBottom) {\n      var collectionLength = this.vGridConfig.getCollectionLength();\n      var contentRows = parseInt(this.contentElement.offsetHeight / this.vGridConfig.attRowHeight);\n      var scrollOffsetHeight = contentRows * this.vGridConfig.attRowHeight;\n      this.contentElement.scrollTop = ((collectionLength * this.vGridConfig.attRowHeight) - (scrollOffsetHeight))\n\n    }\n    //reset scroll to bottom next.\n    this.updateGridScrollbars();\n    this.correctRowAndScrollbodyWidth();\n    this.updateSelectionOnAllRows();\n    this.fixHeaderWithBody();\n    this.vGridScrollEvents.onLargeScroll();\n    this.rebindAllRowSlots();\n    if (scrollBottom) {\n      this.contentElement.scrollTop = this.contentElement.scrollTop + this.vGridConfig.attRowHeight;\n    }\n    //if I dont do this, chrome fails...\n    this.contentScrollBodyElement.style.height = this.scrollBodyHeight - 1 + \"px\";\n    this.contentScrollBodyElement.style.height = this.scrollBodyHeight + 1 + \"px\";\n\n    this.vGrid.sendCollectionEvent();\n  };\n\n\n\n\n}\n"]}