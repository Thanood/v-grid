{"version":3,"sources":["vGrid/v-grid-attributes-contextmenu.js"],"names":[],"mappings":"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","file":"vGrid/v-grid-attributes-contextmenu.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\n *    ContextMenu\n *    This is where I create all the <v-grid> attributes, and set then to vGridConfig\n *    Main idea/source https://github.com/callmenick/Custom-Context-Menu\n *    Created by vegar ringdal\n *\n ****************************************************************************************************************/\n\nimport {inject, customAttribute} from 'aurelia-framework';\nimport {VGrid} from './v-grid';\nimport {Contextmenu} from './v-grid-contextmenu';\n\n\n/*****************************************************\n *  context menu for header\n ******************************************************/\n@customAttribute('v-header-menu')\n@inject(Element, VGrid)\nexport class VGridHeaderMenu extends Contextmenu {\n  classToOpenOn = \"vGrid-header-menu\"; //class it opens menu on\n  altMenuLogic = null; //alt menu to open\n\n\n  //main menu listener\n  menuItemListener(link) {\n    var value = link.getAttribute(\"data-action\");\n\n    if (this.altMenuLogic) {\n      this.filterMenuLogic(value);\n    } else {\n      this.defaultMenu(value);\n    }\n  }\n\n\n  canOpen() {\n    return true;\n  }\n\n\n  //main menu to open\n  menuHtmlMain() {\n    return this.createMenuHTML([\n      {\n        action: \"\",\n        value: this.getLang(\"menuMainHeaderOptions\") || \"Options\",\n        isHeader: true\n      }, {\n        action: \"clear-cell\",\n        value: this.getLang(\"menuMainHeaderClearCell\") || \"Clear cell\"\n      }, {\n        action: \"clear-all\",\n        value: this.getLang(\"menuMainHeaderClearAllCells\") || \"Clear All Cells\"\n      }, {\n        action: \"show-all\",\n        value: this.getLang(\"menuMainHeaderShowAll\") || \"Show all (keep filter text)\"\n      }, {\n        action: \"set-filter\",\n        value: this.getLang(\"menuMainHeaderSetFilter\") || \"Set Filter\"\n      }\n    ]);\n  }\n\n\n  //alt menu I manually set\n  menuHtmlSetFilter() {\n    return this.createMenuHTML([\n      {\n        action: \"\",\n        value: this.getLang(\"menuFilterHeaderSetFilter\") || \"Set filter\",\n        isHeader: true\n      }, {\n        action: \"set-filter-1\",\n        value: this.getLang(\"menuFilterHeaderEquals\") || \"equals\"\n      }, {\n        action: \"set-filter-2\",\n        value: this.getLang(\"menuFilterHeaderLessThanOrEq\") || \"less than or eq\"\n      }, {\n        action: \"set-filter-3\",\n        value: this.getLang(\"menuFilterHeaderGreaterThanOrEq\") || \"greater than or eq\"\n      }, {\n        action: \"set-filter-4\",\n        value: this.getLang(\"menuFilterHeaderLessThan\") || \"less than\"\n      }, {\n        action: \"set-filter-5\",\n        value: this.getLang(\"menuFilterHeaderGreaterThan\") || \"greater than\"\n      }, {\n        action: \"set-filter-6\",\n        value: this.getLang(\"menuFilterHeaderContains\") || \"contains\"\n      }, {\n        action: \"set-filter-7\",\n        value: this.getLang(\"menuFilterHeaderNotEqualTo\") || \"not equal to\"\n      }, {\n        action: \"set-filter-8\",\n        value: this.getLang(\"menuFilterHeaderDoesNotContain\") || \"does not contain\"\n      }, {\n        action: \"set-filter-9\",\n        value: this.getLang(\"menuFilterHeaderBeginsWith\") || \"begins with\"\n      }, {\n        action: \"set-filter-10\",\n        value: this.getLang(\"menuFilterEndsWith\") || \"ends with\"\n      }\n    ]);\n  }\n\n\n  defaultMenu(value) {\n\n    switch (value) {\n      case \"clear-cell\" :\n        this.triggerEvent(\"filterClearCell\", {\n          attribute: this.value\n        });\n        this.vGrid.vGridConfig.onFilterRun(this.vGrid.vGridFilter.lastFilter);\n        this.toggleMenuOff();\n        break;\n      case \"clear-all\" :\n        this.triggerEvent(\"filterClearAll\", {\n          attribute: this.value\n        });\n        this.vGrid.vGridConfig.onFilterRun(this.vGrid.vGridFilter.lastFilter);\n        this.toggleMenuOff();\n        break;\n      case \"show-all\":\n        this.vGrid.vGridConfig.onFilterRun([]);\n        this.toggleMenuOff();\n        break;\n      case \"set-filter\":\n        this.replaceMenu(this.menuHtmlSetFilter());\n        this.altMenuLogic = this.filterMenuLogic;\n        break;\n      default:\n        this.toggleMenuOff();\n    }\n  }\n\n\n\n  triggerEvent(name, data) {\n    let event = new CustomEvent(name, {\n      detail: data,\n      bubbles: true\n    });\n    this.vGrid.element.dispatchEvent(event);\n  }\n\n\n  filterMenuLogic(value) {\n    var newOperator = null;\n    switch (value) {\n      case \"set-filter-1\":\n        newOperator = \"=\";\n        break;\n      case \"set-filter-2\":\n        newOperator = \"<=\";\n        break;\n      case \"set-filter-3\":\n        newOperator = \">=\";\n        break;\n      case \"set-filter-4\":\n        newOperator = \"<\";\n        break;\n      case \"set-filter-5\":\n        newOperator = \">\";\n        break;\n      case \"set-filter-6\":\n        newOperator = \"*\";\n        break;\n      case \"set-filter-7\":\n        newOperator = \"!=\";\n        break;\n      case \"set-filter-8\":\n        newOperator = \"!*\";\n        break;\n      case \"set-filter-9\":\n        newOperator = \"*=\";\n        break;\n      case \"set-filter-10\":\n        newOperator = \"=*\";\n        this.toggleMenuOff();\n        break;\n      default:\n        this.toggleMenuOff();\n    }\n    if (newOperator) {\n      this.triggerEvent(\"filterUpdate\", {\n        attribute: this.value,\n        operator: newOperator\n      });\n      this.toggleMenuOff();\n    }\n\n\n    this.altMenuLogic = null; //reset to main menu again\n  }\n\n\n}\n\n\n/*****************************************************\n *  main context menu for row cells\n ******************************************************/\n\n@customAttribute('v-row-menu')\n@inject(Element, VGrid)\nexport class ContextRowMenu extends Contextmenu {\n  classToOpenOn = \"vGrid-row-menu\"; //class it opens menu on\n  altMenuLogic = null; //alt menu to open\n\n\n  //main menu listener\n  menuItemListener(link) {\n    var value = link.getAttribute(\"data-action\");\n    if (this.altMenuLogic) {\n      this.filterMenuLogic(value);\n    } else {\n      this.defaultMenu(value);\n    }\n  }\n\n\n  canOpen() {\n    return true;\n  }\n\n\n  //main menu to open\n  menuHtmlMain() {\n    return this.createMenuHTML([\n      {\n        action: \"\",\n        value: this.getLang(\"menuRowOptions\") || \"Options\",\n        isHeader: true\n      }, {\n        action: \"copy-cell\",\n        value: this.getLang(\"menuRowCopyCellValue\") || \"Copy cell value\",\n        isHeader: false\n      }, {\n        action: \"paste-cell\",\n        value: this.getLang(\"menuRowCopyPasteIntoCell\") || \"Paste into cell/selected rows\",\n        isHeader: false\n      }\n    ]);\n  }\n\n\n  defaultMenu(value) {\n    switch (value) {\n      case \"copy-cell\":\n        this.vGrid.vGridConfig.cellValue = this.bindingContext.rowRef[this.value];\n        this.toggleMenuOff();\n        break;\n      case \"paste-cell\":\n        if (this.vGrid.vGridConfig.cellValue !== null) {\n          var rows = this.vGrid.vGridSelection.getSelectedRows();\n          rows.forEach((x)=> {\n            this.vGrid.vGridCollectionFiltered[x][this.value] = this.vGrid.vGridConfig.cellValue;\n          });\n          this.vGrid.vGridGenerator.rebindAllRowSlots();\n        }\n        this.toggleMenuOff();\n        break;\n      default:\n        this.toggleMenuOff();\n    }\n  }\n\n}\n"]}