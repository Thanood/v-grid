{"version":3,"sources":["vGrid/v-grid-attributes-selection.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAKQ,Y,qBAAA,M;AAAQ,qB,qBAAA,e;;AACR,W,UAAA,K;;;0CAKK,wB,WAFZ,gBAAgB,aAAhB,C,UACA,OAAO,OAAP,EAAgB,KAAhB,C;AAKC,0CAAY,OAAZ,EAAqB,KAArB,EAA4B;AAAA;;AAC1B,eAAK,KAAL,GAAa,KAAb;AACA,eAAK,OAAL,GAAe,OAAf;AACA,eAAK,KAAL,GAAa,IAAb;AACD;;2CAGD,I,iBAAK,c,EAAgB,e,EAAiB;AACpC,eAAK,cAAL,GAAsB,cAAtB;AACA,eAAK,eAAL,GAAuB,eAAvB;AACA,cAAI,KAAK,OAAT,EAAkB;AAChB,iBAAK,QAAL,GAAgB,KAAK,KAAL,CAAW,cAAX,CAA0B,UAA1B,CAAqC,KAAK,cAAL,CAAoB,GAAzD,CAAhB;AACA,iBAAK,OAAL,CAAa,OAAb,GAAuB,KAAK,QAA5B;AACD;AACF,S;;2CAGD,Q,uBAAW;AAAA;;AAET,eAAK,OAAL,GAAe,IAAf;AACA,eAAK,QAAL,GAAgB,KAAK,KAAL,CAAW,cAAX,CAA0B,UAA1B,CAAqC,KAAK,cAAL,CAAoB,GAAzD,CAAhB;AACA,eAAK,OAAL,CAAa,OAAb,GAAuB,KAAK,QAA5B;;AAEA,eAAK,OAAL,CAAa,OAAb,GAAuB,UAAC,CAAD,EAAO;;AAE5B,gBAAI,SAAS,MAAK,OAAL,CAAa,OAAb,KAAyB,MAAzB,IAAmC,MAAK,OAAL,CAAa,OAAb,KAAyB,IAA5D,GAAmE,IAAnE,GAA0E,KAAvF;;AAEA,gBAAI,MAAJ,EAAY;AACV,kBAAI,MAAK,KAAL,KAAe,QAAnB,EAA6B;AAC3B,sBAAK,KAAL,CAAW,cAAX,CAA0B,SAA1B;AACA,sBAAK,KAAL,CAAW,cAAX,CAA0B,iBAA1B;AACD;AACD,kBAAI,MAAK,KAAL,KAAe,KAAnB,EAA0B;AACxB,sBAAK,KAAL,CAAW,cAAX,CAA0B,MAA1B,CAAiC,MAAK,cAAL,CAAoB,GAArD,EAA0D,IAA1D;AACA,sBAAK,KAAL,CAAW,cAAX,CAA0B,eAA1B,CAA0C,MAAK,cAAL,CAAoB,GAA9D;AACD;AACF,aATD,MASO;;AAEL,kBAAI,MAAK,KAAL,KAAe,QAAnB,EAA6B;AAC3B,sBAAK,KAAL,CAAW,cAAX,CAA0B,WAA1B;AACA,sBAAK,KAAL,CAAW,cAAX,CAA0B,iBAA1B;AACD;;AAED,kBAAI,MAAK,KAAL,KAAe,KAAnB,EAA0B;AACxB,sBAAK,KAAL,CAAW,cAAX,CAA0B,QAA1B,CAAmC,MAAK,cAAL,CAAoB,GAAvD,EAA4D,IAA5D;AACA,sBAAK,KAAL,CAAW,cAAX,CAA0B,eAA1B,CAA0C,MAAK,cAAL,CAAoB,GAA9D;AACD;AACF;AAEF,WA1BD;AA6BD,S","file":"vGrid/v-grid-attributes-selection.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    Attributes for row/header, enables checkbox , manual selection much be used with this\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nimport {inject, customAttribute} from 'aurelia-framework';\r\nimport {VGrid} from './v-grid';\r\n\r\n\r\n@customAttribute('v-selection')\r\n@inject(Element, VGrid)\r\nexport class vGridAttributesSelection {\r\n\r\n  \r\n  \r\n  constructor(element, vGrid) {\r\n    this.vGrid = vGrid;\r\n    this.element = element;\r\n    this.false = true;\r\n  }\r\n\r\n\r\n  bind(bindingContext, overrideContext) {\r\n    this.bindingContext = bindingContext;\r\n    this.overrideContext = overrideContext;\r\n    if (this.created) {\r\n      this.selected = this.vGrid.vGridSelection.isSelected(this.bindingContext.row);\r\n      this.element.checked = this.selected;\r\n    }\r\n  }\r\n\r\n\r\n  attached() {\r\n\r\n    this.created = true;\r\n    this.selected = this.vGrid.vGridSelection.isSelected(this.bindingContext.row);\r\n    this.element.checked = this.selected;\r\n\r\n    this.element.onclick = (e) => { \r\n\r\n      var status = this.element.checked === \"true\" || this.element.checked === true ? true : false;\r\n\r\n      if (status) {\r\n        if (this.value === \"header\") {\r\n          this.vGrid.vGridSelection.selectAll();\r\n          this.vGrid.vGridGenerator.rebindAllRowSlots();\r\n        }\r\n        if (this.value === \"row\") {\r\n          this.vGrid.vGridSelection.select(this.bindingContext.row, true);\r\n          this.vGrid.vGridGenerator.rebindRowNumber(this.bindingContext.row);\r\n        }\r\n      } else {\r\n\r\n        if (this.value === \"header\") {\r\n          this.vGrid.vGridSelection.deSelectAll();\r\n          this.vGrid.vGridGenerator.rebindAllRowSlots();\r\n        }\r\n\r\n        if (this.value === \"row\") {\r\n          this.vGrid.vGridSelection.deSelect(this.bindingContext.row, true);\r\n          this.vGrid.vGridGenerator.rebindRowNumber(this.bindingContext.row);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n}\r\n"]}